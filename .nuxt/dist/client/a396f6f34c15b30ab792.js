(window.webpackJsonp=window.webpackJsonp||[]).push([[49,55],{185:function(e,t,n){var content=n(194);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(3).default)("4dc96070",content,!0,{sourceMap:!1})},187:function(e,t,n){var content=n(207);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(3).default)("eecd741e",content,!0,{sourceMap:!1})},193:function(e,t,n){"use strict";var o=n(185);n.n(o).a},194:function(e,t,n){(e.exports=n(2)(!1)).push([e.i,".component_header[data-v-31d73fec]{min-height:.88rem}.component_header img[data-v-31d73fec]{width:.2rem;height:.38rem}",""])},196:function(e,t,n){"use strict";var o=n(1),style=n(198),r=n.n(style);n(199);o.a.use(r.a);var l={name:"MyTop",props:{showLine:{type:Boolean,default:!0},backColor:{type:String,default:"#ffffff"},color:{type:String,default:"#42474b"}}},c=(n(193),n(0)),component=Object(c.a)(l,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"component_header flex_a",class:[e.showLine?"b_b":""],style:{background:e.backColor,color:e.color}},[n("div",{staticClass:"flex_1 flex_a f-36"},[n("i",{staticClass:"padding_l_20 cubeic-back",on:{click:function(t){return e.$router.go(-1)}}})]),e._v(" "),e._t("default"),e._v(" "),n("div",{staticClass:"flex_1"})],2)},[],!1,null,"31d73fec",null);t.a=component.exports},197:function(e,t,n){"use strict";n.r(t);t.default={get:function(e){var t=window.localStorage.getItem(e);return null===t?null:window.JSON.parse(t)},set:function(e,data){return window.localStorage.setItem(e,window.JSON.stringify(data))},remove:function(e){return window.localStorage.removeItem(e)},get_s:function(e){var t=window.sessionStorage.getItem(e);return null===t?null:window.JSON.parse(t)},set_s:function(e,data){return window.sessionStorage.setItem(e,window.JSON.stringify(data))},remove_s:function(e){return window.sessionStorage.removeItem(e)}}},202:function(e,t,n){var content=n(244);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(3).default)("fc29c33e",content,!0,{sourceMap:!1})},204:function(e,t,n){"use strict";var o=n(197),r={name:"SelectAddress",props:{top:{type:String,default:"0"}},data:()=>({showMask:!1,list:[],cityList:[],areaList:[],showAddr:[{code:"",name:"",show:!0},{code:"",name:"",show:!1},{code:"",name:"",show:!1}]}),watch:{showMask(e,t){o.default.get("mCityHistoryList")&&e&&(this.list=o.default.get("mCityHistoryList"))}},methods:{selectedHis(e){this.showMask=!1,this.$emit("setArea",[e.startProvince,e.startCity,"全市"===e.name?"":e.name])},back(){this.showAddr[2].show?(this.$set(this.showAddr,2,{code:"",name:"",show:!1}),this.$set(this.showAddr[1],"show",!0)):this.showAddr[1].show&&(this.$set(this.showAddr,1,{code:"",name:"",show:!1}),this.$set(this.showAddr[0],"show",!0))},selectProvince(e){"全国"===e.name?(this.$emit("setArea",["","",""]),this.showMask=!1):this.$axios.get("/aflc-common/common/aflcCommonPCA/v1/findAflcCommonPCAByCode?code="+e.code).then(t=>{let data=t.data;200===data.status&&(this.cityList=data.data&&data.data||[],this.showAddr=[{code:e.code,name:e.name,show:!1},{code:"",name:"",show:!0},{code:"",name:"",show:!1}])}).catch(e=>{})},selectCity(e){this.$axios.get("/aflc-common/common/aflcCommonPCA/v1/findAflcCommonPCAByCode?code="+e.code).then(t=>{let data=t.data;200===data.status&&(data.data?data.data.unshift({code:e.code,name:"全市",name1:e.name,parentCode:e.code}):data.data=[{code:e.code,name:"全市",name1:e.name,parentCode:e.code}],this.areaList=data.data&&data.data||[],this.$set(this.showAddr,1,{code:e.code,name:e.name,show:!1}),this.showAddr[2].show=!0)}).catch(e=>{})},selectArea(e){this.showMask=!1,this.$set(this.showAddr,2,{code:e.code,name:e.name,show:!0}),this.$emit("setArea",[this.showAddr[0].name,this.showAddr[1].name,"全市"===e.name?"":e.name]),e.startProvince=this.showAddr[0].name,e.startCity=this.showAddr[1].name,this.setHistory(e)},setHistory(data){if(o.default.get("mCityHistoryList")){let e=o.default.get("mCityHistoryList");e.some(e=>e.code===data.code)||(e.length>=4&&e.splice(3,1),e.unshift(data)),o.default.set("mCityHistoryList",e)}else o.default.set("mCityHistoryList",[data])},beforeEnter(e){e.style.height="0"},enter(e){0!==e.scrollHeight?e.style.height=e.scrollHeight+"px":e.style.height=""},afterEnter(e){e.style.height=""},beforeLeave(e){e.style.height=e.scrollHeight+"px"},leave(e){0!==e.scrollHeight&&(e.style.height=0)},afterLeave(e){e.style.height=""},closeMask(){this.showMask=!1,this.$emit("setArea",!1)}}},l=(n(206),n(0)),component=Object(l.a)(r,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("transition",{on:{"before-enter":e.beforeEnter,enter:e.enter,"after-enter":e.afterEnter,"before-leave":e.beforeLeave,leave:e.leave,"after-leave":e.afterLeave}},[e.showMask?n("div",{staticClass:" heightTran"},[n("div",{staticClass:"b_c_w padding_20 f-26 height_100 o_f"},[n("div",{staticClass:"c-3 flex_1 f_w_b"},[e._v("历史城市")]),e._v(" "),n("div",{staticClass:"f_f flex_a c-3 margin_t_20"},e._l(e.list,function(t,o){return n("div",{key:o,staticClass:"code_box flex"},[n("div",{staticClass:"code_item oneElisp width_100 code_item_no_selected",on:{click:function(n){return e.selectedHis(t)}}},[e._v(e._s("全市"===t.name?t.name1:t.name))])])}),0),e._v(" "),n("div",{staticClass:"flex_a"},[e.showAddr[0].show?n("div",{staticClass:"c-3 flex_1 f_w_b"},[e._v("选择城市")]):n("div",{staticClass:"f_b flex_1 f_w_b",on:{click:function(t){return e.back()}}},[e._v("返回上一线")]),e._v(" "),n("div",{staticClass:"c-3 flex_2 f_w_b oneElisp",staticStyle:{"text-align":"center"}},[e._v(e._s(e.showAddr[0].name)+e._s(e.showAddr[1].name)+e._s("全市"===e.showAddr[2].name?"":e.showAddr[2].name))]),e._v(" "),n("div",{staticClass:"flex_1"})]),e._v(" "),e.showAddr[0].show?n("div",{staticClass:"f_f flex_a c-3 margin_t_20"},e._l(e.$store.state.m.provinceList,function(t,o){return n("div",{key:o,staticClass:"code_box flex"},[n("div",{staticClass:"code_item oneElisp width_100",class:[t.code===e.showAddr[0].code?"code_item_selected":"code_item_no_selected"],on:{click:function(n){return e.selectProvince(t)}}},[e._v(e._s(t.name))])])}),0):e._e(),e._v(" "),e.showAddr[1].show?n("div",{staticClass:"f_f flex_a c-3 margin_t_20"},e._l(e.cityList,function(t,o){return n("div",{key:o,staticClass:"code_box flex"},[n("div",{staticClass:"code_item oneElisp width_100",class:[t.code===e.showAddr[1].code?"code_item_selected":"code_item_no_selected"],on:{click:function(n){return e.selectCity(t)}}},[e._v(e._s(t.name))])])}),0):e._e(),e._v(" "),e.showAddr[2].show?n("div",{staticClass:"f_f flex_a c-3 margin_t_20"},e._l(e.areaList,function(t,o){return n("div",{key:o,staticClass:"code_box flex"},[n("div",{staticClass:"code_item oneElisp width_100",class:[t.code===e.showAddr[2].code?"code_item_selected":"code_item_no_selected"],on:{click:function(n){return e.selectArea(t)}}},[e._v(e._s(t.name))])])}),0):e._e()])]):e._e()]),e._v(" "),n("div",{class:[e.showMask?"mask2":""],style:{top:e.top},on:{click:function(t){return e.closeMask()}}})],1)},[],!1,null,"0b6ec86c",null);t.a=component.exports},206:function(e,t,n){"use strict";var o=n(187);n.n(o).a},207:function(e,t,n){(e.exports=n(2)(!1)).push([e.i,".code_box[data-v-0b6ec86c]{width:25%;padding:0 .1rem .2rem;box-sizing:border-box}.code_box .code_item[data-v-0b6ec86c]{text-align:center;height:.6rem;line-height:.6rem}.code_item_selected[data-v-0b6ec86c]{border:1px solid #54a7ff;color:#54a7ff;background-color:rgba(84,167,255,.5)}.code_item_no_selected[data-v-0b6ec86c]{border:1px solid #999}.heightTran[data-v-0b6ec86c]{transition:all .2s;position:absolute;top:0;width:100%;height:8.3rem;z-index:100}",""])},243:function(e,t,n){"use strict";var o=n(202);n.n(o).a},244:function(e,t,n){(e.exports=n(2)(!1)).push([e.i,".item[data-v-85858c24]{height:1rem}.heightTran[data-v-85858c24]{transition:all .2s;position:absolute;top:0;width:100%;height:4.1rem;z-index:100}",""])},247:function(e,t,n){"use strict";var o={name:"Reputation",props:{top:{type:String,default:"0"},form:{type:String,default:""}},data:()=>({showMask:!1,list:[{name:"信誉最高",value:"creditDesc"},{name:"运输时效",value:"transportAgingAsc"},{name:"重货价格最低",value:"weightPriceAsc"},{name:"轻货价格最低",value:"lightPriceAsc"}]}),methods:{selectReputation(e){this.showMask=!1,this.$emit("setArea",e)},beforeEnter(e){e.style.height="0"},enter(e){0!==e.scrollHeight?e.style.height=e.scrollHeight+"px":e.style.height=""},afterEnter(e){e.style.height=""},beforeLeave(e){e.style.height=e.scrollHeight+"px"},leave(e){0!==e.scrollHeight&&(e.style.height=0)},afterLeave(e){e.style.height=""},closeMask(){this.showMask=!1,this.$emit("setArea",!1)}}},r=(n(243),n(0)),component=Object(r.a)(o,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("transition",{on:{"before-enter":e.beforeEnter,enter:e.enter,"after-enter":e.afterEnter,"before-leave":e.beforeLeave,leave:e.leave,"after-leave":e.afterLeave}},[e.showMask?n("div",{staticClass:" heightTran"},["zhuanxian"===e.form?n("div",{staticClass:"b_c_w padding_l_20 padding_r_20 f-26 height_100 o_f"},e._l(e.list,function(t,o){return n("div",{key:o,staticClass:"item flex",class:[o===e.list.length-1?"":"b_b"],style:{color:e.$store.state.m.zhuanxian.orderBy.value===t.value?"#54A7FF":""},on:{click:function(n){return e.selectReputation(t)}}},[e._v("\n          "+e._s(t.name)+"\n        ")])}),0):e._e(),e._v(" "),"gongsiLine"===e.form?n("div",{staticClass:"b_c_w padding_l_20 padding_r_20 f-26 height_100 o_f"},e._l(e.list,function(t,o){return n("div",{key:o,staticClass:"item flex",class:[o===e.list.length-1?"":"b_b"],style:{color:e.$store.state.m.gongsi.line.orderBy.value===t.value?"#54A7FF":""},on:{click:function(n){return e.selectReputation(t)}}},[e._v("\n          "+e._s(t.name)+"\n        ")])}),0):e._e()]):e._e()]),e._v(" "),n("div",{class:[e.showMask?"mask2":""],style:{top:e.top},on:{click:function(t){return e.closeMask()}}})],1)},[],!1,null,"85858c24",null);t.a=component.exports},344:function(e,t,n){var content=n(571);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(3).default)("5f00850a",content,!0,{sourceMap:!1})},570:function(e,t,n){"use strict";var o=n(344);n.n(o).a},571:function(e,t,n){(e.exports=n(2)(!1)).push([e.i,".body[data-v-7f4814dc]{height:inherit}.item[data-v-7f4814dc]{margin-top:.1rem;height:2.6rem;background:#fff;padding:0 .2rem .2rem}.item .title[data-v-7f4814dc]{height:.88rem}.item .title .img-v[data-v-7f4814dc]{width:.28rem;height:.24rem}.item .l_h[data-v-7f4814dc]{line-height:.44rem;padding:.3rem 0}.item .l_h .img-p[data-v-7f4814dc]{width:.44rem}.item .l_h .time[data-v-7f4814dc]{margin-top:.1rem}.item .l_h .time .time_b[data-v-7f4814dc]{height:.32rem;background:#eee;border-radius:.16rem;padding:.05rem .1rem}.shou[data-v-7f4814dc]{background:#65a8ff}.jian[data-v-7f4814dc],.shou[data-v-7f4814dc]{width:.32rem;height:.32rem;border-radius:.04rem}.jian[data-v-7f4814dc]{background:#f40}.qs[data-v-7f4814dc]{background:#3c92ef}.qs[data-v-7f4814dc],.rs[data-v-7f4814dc]{width:.66rem;height:.32rem;border-radius:.04rem}.rs[data-v-7f4814dc]{background:#fad338}",""])},613:function(e,t,n){"use strict";n.r(t);var o=n(5),r=n(204),l=n(247),c=n(196),d=n(1),h=n(253),m=n.n(h),_=n(251),f=n.n(_);n(254),n(252);d.a.use(m.a),d.a.use(f.a);var v={layout:"m",components:{SelectAddress:r.a,Reputation:l.a,MyTop:c.a},data:()=>({isShowMask:[!1,!1,!1],options:{pullDownRefresh:{txt:" "},pullUpLoad:{txt:{more:"",noMore:"没有更多数据了"}},scrollbar:!0}}),fetch:e=>Object(o.a)(function*(){e.$axios;let t=e.store,n=e.query;if(0===t.state.m.gongsi.line.rangeList.length){let e={publishId:n.id,currentPage:t.state.m.gongsi.line.currentPage,pageSize:20,startProvince:t.state.m.gongsi.line.startName[0],startCity:t.state.m.gongsi.line.startName[1],startArea:t.state.m.gongsi.line.startName[2],endProvince:t.state.m.gongsi.line.endName[0],endCity:t.state.m.gongsi.line.endName[1],endArea:t.state.m.gongsi.line.endName[2],orderBy:t.state.m.gongsi.line.orderBy.value};return t.dispatch("m/gongsi/line/GETLIST",{data:e,name:"rangeList"})}})(),mounted(){this.$nextTick(()=>{this.$refs.scroll.scrollTo(0,this.$store.state.m.gongsi.line.scrollTo)})},methods:{phone(s,e){let t={},n={},o=[t=s?{content:"出发地手机号码"}:{content:"出发地还没有手机号码"},n=e?{content:"到达地手机号码"}:{content:"到达地还没有手机号码"}];this.$createActionSheet({title:"",pickerStyle:!0,data:o,onSelect:(t,n)=>{console.log(t),"出发地手机号码"===t.content&&(window.location.href="tel:".concat(s)),"到达地手机号码"===t.content&&(window.location.href="tel:".concat(e))},onCancel:()=>{}}).show()},clickRange(e,t){this.$router.push("/m/zhuanxian/detail?id=".concat(e,"&publishId=").concat(t))},onPullingDown(){this.$nextTick(()=>{this.$refs.scroll.scrollTo(0,0)}),this.$store.commit("m/gongsi/line/setData",{name:"scrollTo",data:0}),this.$store.commit("m/gongsi/line/setData",{name:"currentPage",data:1}),this.$store.commit("m/gongsi/line/setData",{name:"rangeList",data:[]}),this.getRangeList()},onPullingUp(){this.getRangeList()},getScroll(e){this.$store.commit("m/gongsi/line/setData",{name:"scrollTo",data:e.y})},getRangeList(){console.log(this.$store.state.m.gongsi.line.currentPage),console.log(this.$store.state.m.gongsi.line.pages),this.$store.state.m.gongsi.line.currentPage>this.$store.state.m.gongsi.line.pages&&this.$refs.scroll.forceUpdate();let e={publishId:this.$route.query.id,currentPage:this.$store.state.m.gongsi.line.currentPage,pageSize:20,startProvince:this.$store.state.m.gongsi.line.startName[0],startCity:this.$store.state.m.gongsi.line.startName[1],startArea:this.$store.state.m.gongsi.line.startName[2],endProvince:this.$store.state.m.gongsi.line.endName[0],endCity:this.$store.state.m.gongsi.line.endName[1],endArea:this.$store.state.m.gongsi.line.endName[2],orderBy:this.$store.state.m.gongsi.line.orderBy.value};this.$store.dispatch("m/gongsi/line/GETLIST",{data:e,name:"rangeList"})},clickStart(){this.isShowMask=[!1,!1,!1],this.$refs.selectEndAddress.showMask=!1,this.$refs.selectReputation.showMask=!1,this.$set(this.isShowMask,0,!this.isShowMask[0]),this.$refs.selectStartAddress.showMask=!this.$refs.selectStartAddress.showMask},clickEnd(){this.isShowMask=[!1,!1,!1],this.$refs.selectStartAddress.showMask=!1,this.$refs.selectReputation.showMask=!1,this.$set(this.isShowMask,1,!this.isShowMask[1]),this.$refs.selectEndAddress.showMask=!this.$refs.selectEndAddress.showMask},clickReputation(){this.isShowMask=[!1,!1,!1],this.$refs.selectStartAddress.showMask=!1,this.$refs.selectEndAddress.showMask=!1,this.$set(this.isShowMask,2,!this.isShowMask[2]),this.$refs.selectReputation.showMask=!this.$refs.selectReputation.showMask},getStartArea(data){this.$set(this.isShowMask,0,!1),data&&(this.$store.dispatch("m/gongsi/line/SETDATA",{data:data,name:"startName"}),this.onPullingDown())},getEndArea(data){this.$set(this.isShowMask,1,!1),data&&(this.$store.dispatch("m/gongsi/line/SETDATA",{data:data,name:"endName"}),this.onPullingDown())},getReputation(data){this.$set(this.isShowMask,2,!1),data&&(this.$store.commit("m/gongsi/line/setData",{name:"orderBy",data:data}),this.onPullingDown())}}},w=(n(570),n(0)),component=Object(w.a)(v,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"body flex_f"},[n("MyTop",[n("div",{staticClass:"flex_3 f-36 flex"},[e._v("公司全部网点")])]),e._v(" "),n("div",{staticClass:"flex_f flex_1"},[n("div",[n("div",{staticClass:"flex_a f-26 b_b page_view_top b_c_w"},[n("div",{staticClass:"flex_1 flex",class:[e.isShowMask[0]?"f_b":"c-3"],on:{click:function(t){return e.clickStart()}}},[n("span",{staticClass:"margin_r_10"},[e._v(e._s(""===e.$store.state.m.gongsi.line.startName[0]?"全国":""===e.$store.state.m.gongsi.line.startName[2]?e.$store.state.m.gongsi.line.startName[1]:e.$store.state.m.gongsi.line.startName[2]))]),e._v(" "),n("div",{class:[e.isShowMask[0]?"page_view_triangle-down-g":"page_view_triangle-down-9"]})]),e._v(" "),n("div",{staticClass:"flex_1 flex",class:[!0===e.isShowMask[1]?"f_b":"c-3"],on:{click:function(t){return e.clickEnd()}}},[n("span",{staticClass:"margin_r_10"},[e._v(e._s(""===e.$store.state.m.gongsi.line.endName[0]?"全国":""===e.$store.state.m.gongsi.line.endName[2]?e.$store.state.m.gongsi.line.endName[1]:e.$store.state.m.gongsi.line.endName[2]))]),e._v(" "),n("div",{class:[e.isShowMask[1]?"page_view_triangle-down-g":"page_view_triangle-down-9"]})]),e._v(" "),n("div",{staticClass:"flex_1 flex",on:{click:function(t){return e.clickReputation()}}},[n("span",{staticClass:"margin_r_10",class:[!0===e.isShowMask[2]?"f_b":"c-3"]},[e._v(e._s(e.$store.state.m.gongsi.line.orderBy.name))]),e._v(" "),n("div",{class:[e.isShowMask[2]?"page_view_triangle-down-g":"page_view_triangle-down-9"]})])]),e._v(" "),n("div",{staticClass:"p_r"},[n("SelectAddress",{ref:"selectStartAddress",attrs:{top:"auto"},on:{setArea:e.getStartArea}}),e._v(" "),n("SelectAddress",{ref:"selectEndAddress",attrs:{top:"auto"},on:{setArea:e.getEndArea}}),e._v(" "),n("Reputation",{ref:"selectReputation",attrs:{top:"auto",form:"gongsiLine"},on:{setArea:e.getReputation}})],1)]),e._v(" "),0===e.$store.state.m.gongsi.line.pages?n("div",{staticClass:"flex f-26 margin_t_40"},[e._v("\n      没有相关数据\n    ")]):e._e(),e._v(" "),n("cube-scroll",{ref:"scroll",staticClass:"mScroll flex_1",attrs:{"scroll-events":["scroll-end"],data:e.$store.state.m.gongsi.line.rangeList,options:e.options},on:{"pulling-down":e.onPullingDown,"pulling-up":e.onPullingUp,"scroll-end":e.getScroll}},e._l(e.$store.state.m.gongsi.line.rangeList,function(t,o){return n("div",{key:o,staticClass:"item",on:{click:function(n){return e.clickRange(t.id,t.publishId)}}},[n("div",{staticClass:"title c-3 f-30 b_b flex_sb"},[n("div",{staticClass:"flex_a"},[n("span",[e._v(e._s(t.companyName))]),e._v(" "),n("img",{staticClass:"img-v margin_l_20",attrs:{src:"/m/zhuanxian/details-icon-vip.png"}})]),e._v(" "),n("div",{staticClass:"flex_a f-20 f_w"},[n("div",{staticClass:"shou flex"},[e._v("授")]),e._v(" "),n("div",{staticClass:"jian margin_l_10 flex"},[e._v("荐")])])]),e._v(" "),n("div",{staticClass:"l_h"},[n("div",{staticClass:"width_100"},[n("div",{staticClass:"f-36 f_w_b flex_sb"},[n("div",{staticClass:"flex_a"},[n("span",[e._v(e._s(t.startCity)+" "+e._s(t.startArea)+" -- "+e._s(t.endCity)+" "+e._s(t.endArea))]),e._v(" "),"AF03302"===t.rangeType?n("span",{staticClass:"margin_l_20 f_w f-20 f_w_b flex rs"},[e._v("优 势")]):e._e(),e._v(" "),"AF03303"===t.rangeType?n("span",{staticClass:"margin_l_20 f_w f-20 f_w_b flex qs"},[e._v("强 势")]):e._e()]),e._v(" "),n("img",{staticClass:"img-p margin_l_20",attrs:{src:"/m/zhuanxian/phone.png"},on:{click:function(n){return n.stopPropagation(),e.phone(t.startLocationContactsMobile,t.endLocationContactsMobile)}}})]),e._v(" "),n("div",{staticClass:"time f-20 c-9"},[n("span",{staticClass:"time_b"},[e._v("时效"+e._s(t.transportAging)+e._s(t.transportAgingUnit))]),e._v(" "),n("span",{staticClass:"margin_l_20 time_b"},[e._v(e._s(t.browseNumber)+"人浏览")])])]),e._v(" "),n("div",{staticClass:"f-24 f_40"},[e._v("\n            轻货："+e._s(t.lightPrice)+"元/m³ 重货："+e._s(t.weightPrice)+"元/公斤\n          ")])])])}),0)],1)],1)},[],!1,null,"7f4814dc",null);t.default=component.exports}}]);