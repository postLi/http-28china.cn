{"version":3,"file":"22c32de573eabc590394.js","sources":["webpack:///./components/commonJs.js"],"sourcesContent":["let ZXCITYLIST = ['天津市', '北京市', '上海市', '重庆市']\r\nlet RANDOMCITYLIST = [\r\n  {\r\n    p: '北京市',\r\n    c: '北京市'\r\n  },\r\n  {\r\n    p: '天津市',\r\n    c: '天津市'\r\n  },\r\n  {\r\n    p: '黑龙江省',\r\n    c: '哈尔滨市'\r\n  },\r\n  {\r\n    p: '江苏省',\r\n    c: '南京市'\r\n  },\r\n  {\r\n    p: '江苏省',\r\n    c: '无锡市'\r\n  },\r\n  {\r\n    p: '江苏省',\r\n    c: '苏州市'\r\n  },\r\n  {\r\n    p: '浙江省',\r\n    c: '杭州市'\r\n  },\r\n  {\r\n    p: '浙江省',\r\n    c: '宁波市'\r\n  },\r\n  {\r\n    p: '山东省',\r\n    c: '青岛市'\r\n  },\r\n  {\r\n    p: '河南省',\r\n    c: '郑州市'\r\n  },\r\n  {\r\n    p: '湖北省',\r\n    c: '武汉市'\r\n  },\r\n  {\r\n    p: '湖南省',\r\n    c: '长沙市'\r\n  },\r\n  {\r\n    p: '广东省',\r\n    c: '广州市'\r\n  },\r\n  {\r\n    p: '广东省',\r\n    c: '深圳市'\r\n  },\r\n  {\r\n    p: '重庆市',\r\n    c: '重庆市'\r\n  },\r\n  {\r\n    p: '四川省',\r\n    c: '成都市'\r\n  }\r\n]\r\n\r\nexport async function getCode($axios, name) {\r\n  const res = await $axios.get('../js/province.json')\r\n  for (let i = 0; i < res.data.length; i++) {\r\n    let name0 = res.data[i].name\r\n    if (name === name0) {\r\n      return res.data[i].code\r\n    }\r\n  }\r\n}\r\nexport async function getCity($axios, code, startCity) {\r\n  return await $axios.get(\r\n    '/aflc-common/common/aflcCommonPCA/v1/findAflcCommonPCAByCode?code=' + code\r\n  )\r\n}\r\n//参数时间戳,格式\r\nexport function parseTime(time, cFormat) {\r\n  if (arguments.length === 0) {\r\n    return null\r\n  }\r\n  if (!time) {\r\n    return ''\r\n  }\r\n  const format = cFormat || '{y}-{m}-{d} {h}:{i}:{s}'\r\n  let date\r\n  if (typeof time === 'object') {\r\n    date = time\r\n  } else {\r\n    // 判断时毫秒还是字符串\r\n    time = typeof time === 'number' ? time : ('' + time).trim()\r\n    // 如果是秒级单位则转成毫秒\r\n    if (/^\\d{10}$/.test(time)) {\r\n      time = parseInt(time) * 1000\r\n    } else if (/(\\d){4}-(\\d){2}-(\\d){2}\\s+(\\d){2}:(\\d){2}:(\\d){2}/.test(time)) {\r\n      // IE需要标准格式\r\n      // time = time.replace(/(\\d{4})-(\\d{2})-(\\d{2})\\s+(\\d{2}):(\\d{2}):(\\d{2})/, '$1-$2-$3T$4:$5:$6Z')\r\n      time = time.replace(/-/g, '/')\r\n    }\r\n\r\n    date = new Date(time)\r\n  }\r\n  // 如果不能正确转换，则返回原有的数据\r\n  if (date.toString().indexOf('Invalid') !== -1) {\r\n    return time\r\n  }\r\n  const formatObj = {\r\n    y: date.getFullYear(),\r\n    m: date.getMonth() + 1,\r\n    d: date.getDate(),\r\n    h: date.getHours(),\r\n    i: date.getMinutes(),\r\n    s: date.getSeconds(),\r\n    a: date.getDay()\r\n  }\r\n  const time_str = format.replace(/{(y|m|d|h|i|s|a)+}/g, (result, key) => {\r\n    let value = formatObj[key]\r\n    if (key === 'a')\r\n      return ['一', '二', '三', '四', '五', '六', '日'][value - 1]\r\n    if (result.length > 0 && value < 10) {\r\n      value = '0' + value\r\n    }\r\n    return value || 0\r\n  })\r\n  return time_str\r\n}\r\n\r\n// 判断是否为直辖市\r\nexport function isZXcity(name) {\r\n  return ZXCITYLIST.indexOf(name) !== -1\r\n}\r\n\r\n// 修正出发地/目的地查询参数\r\nexport function getSEListParams(param = {}) {\r\n  let data = {\r\n    startProvince: param.startProvince || '',\r\n    startCity: param.startCity || '',\r\n    endProvince: param.endProvince || '',\r\n    endCity: param.endCity || ''\r\n  }\r\n  // 如果有数据才进行处理\r\n  if (\r\n    data.startProvince &&\r\n    data.endProvince &&\r\n    data.startCity &&\r\n    data.endCity\r\n  ) {\r\n    // 当城市相同时进行处理\r\n    if (\r\n      data.startProvince === data.endProvince &&\r\n      data.startCity === data.endCity\r\n    ) {\r\n      // 如果是直辖市则取随机的\r\n      if (isZXcity(data.startCity)) {\r\n        let rlist = RANDOMCITYLIST.filter(el => data.endCity !== el.c)\r\n        let rnd = Math.ceil(rlist.length * Math.random())\r\n        let rdata = rlist[rnd]\r\n        data.endProvince = rdata.p\r\n        data.endCity = rdata.c\r\n      } else {\r\n        // 其它则取省下面的专线\r\n        data.endCity = ''\r\n      }\r\n    }\r\n  }\r\n\r\n  return data\r\n}\r\n"],"mappings":"AAAA","sourceRoot":""}