{"version":3,"file":"4db351f793d6032812ce.js","sources":["webpack:///pages/wuliu/index.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"list_box\">\r\n      <div class=\"list_nav\">\r\n        <a href=\"/\">物流首页</a>&gt;<a\r\n          id=\"list_nav_a\"\r\n          href=\"\">物流园区</a>\r\n      </div>\r\n      <div class=\"list_left\">\r\n        <div\r\n          class=\"w1036\"\r\n          style=\" background-color: #fff;\">\r\n\r\n          <div class=\"select_con\">\r\n\r\n            <dl>\r\n              <dt><span>园区所在地&nbsp;：</span></dt>\r\n              <dd><form\r\n                name=\"zxaddform\"\r\n                method=\"post\"\r\n                action=\"\" >\r\n                <input\r\n                  name=\"a7\"\r\n                  type=\"hidden\"\r\n                  value=\"0\">\r\n                <input\r\n                  type=\"hidden\"\r\n                  name=\"mid\"\r\n                  value=\"19\" >\r\n                <input\r\n                  type=\"hidden\"\r\n                  name=\"dopost\"\r\n                  value=\"search\" >\r\n                <div\r\n                  id=\"parkAddress\"\r\n                  class=\"fl list_input\"\r\n                  style=\"position:relative;\" >\r\n                  <input\r\n                    style=\"height: 100%;border: none;outline: none;\"\r\n                    data-toggle=\"city-picker\"\r\n                    data-level=\"district\"\r\n                    type=\"text\"\r\n                    placeholder=\"请选择省-市-区\" >\r\n                </div>\r\n                <span>&nbsp;园区名称&nbsp;：</span>\r\n                <input\r\n                  v-model=\"vo.parkName\"\r\n                  type=\"text\"\r\n                  class=\"list_input\"\r\n                  placeholder=\"请输入园区名称\" >\r\n                <input\r\n                  id=\"search_wlyq\"\r\n                  value=\" 搜索 \"\r\n                  readonly=\"\"\r\n                  class=\"list_button\"\r\n                  @click=\"search()\">\r\n                <input\r\n                  id=\"flush\"\r\n                  name=\"Submit2\"\r\n                  value=\"重置 \"\r\n                  readonly=\"\"\r\n                  class=\"list_button\"\r\n                  @click=\"reload()\">\r\n              </form>\r\n              </dd>\r\n\r\n            </dl>\r\n          </div>\r\n        </div>\r\n        <div class=\"w1036 list_wlyq\">\r\n          <div\r\n            v-if=\"getGateWayList==null ||getGateWayList==[]\"\r\n            class=\"list_none\"\r\n            style=\"display: block\">\r\n            <span>暂时没有找到您要查询的信息，可以看看其他园区哦</span>\r\n            <img src=\"/images/none_pic.png\">\r\n          </div>\r\n\r\n          <ul\r\n            v-for=\"(item,index) in getGateWayList\"\r\n            :key=\"index\"\r\n            class=\"wlzx_list\">\r\n            <a\r\n              :href=\"'/wuliu/detail?id=' + item.id\"\r\n              target=\"_blank\">\r\n              <!-- :src=\"item.parkSignPicture?item.parkSignPicture:'/images/list_wlzx/wlyq_pic.png'\" -->\r\n              <li class=\"wlzx_list_01\"><img\r\n                :src=\"item.parkSignPicture?item.parkSignPicture:'/yuanqu/images/wlyq_pic.png'\"\r\n                class=\"scrollLoading\"\r\n                width=\"268\"\r\n                height=\"268\"></li>\r\n              <li class=\"wlzx_list_02\"><span>{{ item.parkName }}</span></li>\r\n              <li class=\"wlzx_list_03\"><font>{{ item.transportNumber?item.transportNumber: 0 }}</font><i>条</i><span>优质专线</span></li>\r\n              <li class=\"wlzx_list_04\"><span>{{ item.parkAddress }}</span></li>\r\n              <li class=\"wlzx_list_05\"><span>{{ item.browseNumber }}</span></li>\r\n            </a>\r\n          </ul>\r\n\r\n        </div>\r\n\r\n        <!--分页-->\r\n        <div\r\n          class=\"box\"\r\n          style=\"float: right;margin-right: 170px;\">\r\n          <div\r\n            id=\"pagination1\"\r\n            class=\"page fl\"/>\r\n          <div class=\"info fl\">\r\n          <!--<p>当前页数：<span id=\"current1\">1</span></p>-->\r\n          </div>\r\n        </div>\r\n        <!--分页-->\r\n\r\n        <div class=\"bottom_wlyq\" >\r\n          <div class=\"bottom_wlyq_bt\">您可能对这些感兴趣</div>\r\n          <div class=\"bottom_wlyq_nr\">\r\n            <div\r\n              v-for=\"(item,index) in getLogisticsPark\"\r\n              :key=\"index\"\r\n              class=\"bottom_wlyq_item\"><a\r\n                :href=\"'/wuliu/detail?id=' + item.id\"\r\n                target=\"_blank\">{{ item.parkName }}</a></div>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n\r\n      <div class=\"list_right\">\r\n        <div class=\"zx_sx\"><span class=\"biaozhi\"/><span>园区推荐</span></div>\r\n        <div \r\n          v-if=\"recommendParkList==null||recommendParkList==[]\"\r\n          class=\" hy_tj_none\"\r\n          style=\" background-color: #fff;height: 220px;border: 1px solid #eee;margin-top: -1px;width: 342px;    height: 186px;\">\r\n          <span style=\"float: left;width: 100%;text-align: center;height: 100px;line-height: 100px;font-size: 14px; margin-top: 0px;\">暂无相关园区推荐</span>\r\n        </div>\r\n        <div\r\n          v-for=\"(item,index) in recommendParkList\"\r\n          :key=\"index\"\r\n          class=\"tj_list\">\r\n          <a\r\n            :href=\"'/wuliu/detail?id=' + item.id\"\r\n            target=\"_blank\">\r\n            <div class=\"p p1\"><span>{{ item.parkName }}</span></div>\r\n            <div class=\"p p3\">\r\n              <ul>\r\n                <li class=\"tj_left tj_left1\"><font >{{ item.transportNumber||0 }}条</font></li>\r\n                <li class=\"tj_right\"><span >优质专线</span></li>\r\n                <li class=\"tj_left tj_left2\"><font>{{ item.netWorkNumber }}<em>家</em></font></li>\r\n                <li class=\"tj_right\"><span >优质物流公司</span></li>\r\n              </ul>\r\n            </div>\r\n            <div class=\"p p4\"><span>{{ item.parkAddress }}</span></div>\r\n            <div class=\"p p5\"><span>{{ item.browseNumber }}</span></div>\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nasync function gateWayList($axios, currentPage, vo = {}) {\r\n  let parm = vo\r\n  parm.currentPage = currentPage\r\n  parm.pageSize = 21\r\n  let res = await $axios.post('/28-web/logisticsPark/list', parm)\r\n  if (res.data.status === 200) {\r\n    return {\r\n      list: res.data.data.list,\r\n      pages: res.data.data.pages,\r\n      currentPage: res.data.data.pageNum\r\n    }\r\n  } else {\r\n    return { list: [], pages: 0, currentPage: 1 }\r\n  }\r\n}\r\nexport default {\r\n  name: 'WuLiu',\r\n  head: {\r\n    link: [\r\n      { rel: 'stylesheet', href: '/css/basic.css' },\r\n      { rel: 'stylesheet', href: '/css/jquery.pagination.css' },\r\n      { rel: 'stylesheet', href: '/css/list_wlyq.css' }\r\n    ],\r\n    script: [\r\n      { src: './js/city-picker.data.js' },\r\n      { src: './js/city-picker.js' },\r\n      { src: './js/jquery.pagination.min.js' }\r\n    ]\r\n  },\r\n  data() {\r\n    return {\r\n      pages: 0, //总页数\r\n      currentPage: 1 //当前页\r\n    }\r\n  },\r\n  async asyncData({ $axios, app, query }) {\r\n    let vo = {\r\n      parkName: query.parkName ? query.parkName : '',\r\n      locationProvince: query.locationProvince\r\n        ? query.locationProvince\r\n        : app.$cookies.get('currentProvinceFullName'),\r\n      locationCity: query.locationCity\r\n        ? query.locationCity\r\n        : app.$cookies.get('currentAreaFullName'),\r\n      locationArea: query.locationArea ? query.locationArea : ''\r\n    }\r\n    let parm = vo\r\n    parm.currentPage = 1\r\n    parm.pageSize = 16\r\n    // let getLogisticsPark = await $axios.post(\r\n    //   '/28-web/logisticsPark/interested/list',\r\n    //   parm\r\n    // )\r\n    let getLogisticsPark = await $axios.post(\r\n      '/28-web/logisticsPark/interested/list',\r\n      parm\r\n    )\r\n    let parm1 = vo\r\n    parm1.currentPage = 1\r\n    parm1.pageSize = 14\r\n    // let recommendParkList = await $axios.post(\r\n    //   '/28-web/logisticsPark/recommend/list',\r\n    //   parm1\r\n    // )\r\n    let recommendParkList = await $axios.post(\r\n      '/28-web/logisticsPark/recommend/list',\r\n      parm1\r\n    )\r\n    let getGateWayListData = await gateWayList($axios, 1, vo)\r\n    console.log(recommendParkList.data.data.list, 'recommendParkList')\r\n    return {\r\n      getGateWayList: getGateWayListData.list,\r\n      pages: getGateWayListData.pages,\r\n      currentPage: getGateWayListData.currentPage,\r\n      getLogisticsPark:\r\n        getLogisticsPark.data.status === 200\r\n          ? getLogisticsPark.data.data.list\r\n          : [],\r\n      recommendParkList:\r\n        recommendParkList.data.status === 200\r\n          ? recommendParkList.data.data.list\r\n          : [],\r\n      vo: vo\r\n    }\r\n  },\r\n  mounted() {\r\n    $('#parkAddress input').citypicker({\r\n      province: this.vo.locationProvince,\r\n      city: this.vo.locationCity,\r\n      district: this.vo.locationArea\r\n    })\r\n    $('#list_nav_a').html(\r\n      this.vo.locationCity + this.vo.locationArea + '物流园区'\r\n    )\r\n    this.loadPagination()\r\n  },\r\n  methods: {\r\n    async search() {\r\n      let list1 = []\r\n      $('#parkAddress .select-item').each(function(i, e) {\r\n        list1.push($(this).text())\r\n      })\r\n      this.vo.locationProvince = list1[0] ? list1[0] : ''\r\n      this.vo.locationCity = list1[1] ? list1[1] : ''\r\n      this.vo.locationArea = list1[2] ? list1[2] : ''\r\n      window.location.href = `/wuliu?locationProvince=${\r\n        this.vo.locationProvince\r\n      }&locationCity=${this.vo.locationCity}&locationArea=${\r\n        this.vo.locationArea\r\n      }&parkName=${this.vo.parkName}`\r\n    },\r\n    reload() {\r\n      window.location.href = '/wuliu'\r\n    },\r\n    loadPagination() {\r\n      $('#pagination1').pagination({\r\n        currentPage: this.currentPage,\r\n        totalPage: this.pages,\r\n        callback: async current => {\r\n          $('#current1').text(current)\r\n          let obj = await gateWayList(this.$axios, current, this.vo)\r\n          this.getGateWayList = obj.list\r\n          this.currentPage = obj.currentPage\r\n          window.location.href = '#top'\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n</style>\r\n"],"mappings":"AAiKA","sourceRoot":""}