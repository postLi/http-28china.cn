{"version":3,"file":"6365b6a67d40fa2b90d1.js","sources":["webpack:///pages/wuliu/detail.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"list_box\" >\r\n      <div class=\"list_nav\">\r\n        <a href=\"/\">物流首页</a>&gt;<a\r\n          id=\"arc_nav_a1\"\r\n          href=\"\">物流园区</a>&gt;<a>{{ gatewayData.parkName }}</a>\r\n      </div>\r\n      <div class=\"list_left\">\r\n        <div class=\"left_main\">\r\n          <div class=\"left_bt\"><span>{{ gatewayData.parkName }}</span></div>\r\n          <div class=\"left_nr\">\r\n            <div class=\"left_nr_1\">\r\n\r\n              <img\r\n                :src=\"gatewayData.parkSignPicture?gatewayData.parkSignPicture:'/yuanqu/images/wlyq_pic.png'\"\r\n                alt=\"\">\r\n                <!-- <img\r\n            :src=\"gatewayData.parkSignPicture?gatewayData.parkSignPicture:'/images/article_wlzx/wlyq_pic.png'\"> -->\r\n            </div>\r\n            <div class=\"left_nr_2\">\r\n              <div\r\n                id=\"allmap\"\r\n                onmouseout=\"$('#allmap').css('display', 'none')\"\r\n                onmouseover=\"$('#allmap').css('display', 'block')\" />\r\n              <ul>\r\n                <li class=\"list_yq1\"><img src=\"/images/article_wlzx/peple.png\"><span>{{ gatewayData.parkContact || '暂无' }}</span></li>\r\n                <li class=\"list_yq2\"><img src=\"/images/article_wlzx/phone-ico.png\"><span>{{ gatewayData.parkMobile|| '暂无' }}</span></li>\r\n                <li class=\"list_yq3\"><span>电话：<em>{{ gatewayData.parkNum || '暂无' }}</em></span></li>\r\n                <li class=\"list_yq4\"><a\r\n                  v-if=\"gatewayData.contactQq\"\r\n                  :href=\" 'http://wpa.qq.com/msgrd?v=3&uin=' + gatewayData.contactQq + '&site=qq&menu=yes'\"\r\n                  target=\"_blank\"><span>QQ：<em>{{ gatewayData.contactQq }}</em></span></a></li>\r\n                <li class=\"list_yq5\"><span>区域：<em>{{ gatewayData.locationProvince }}{{ gatewayData.locationCity }}{{ gatewayData.locationArea }}</em></span></li>\r\n                <li class=\"list_yq6\"><span>详细地址：<em>{{ gatewayData.parkAddress || '暂无' }}</em></span><a\r\n                  target=\"_blank\"\r\n                  @click=\"seeMap()\">[查看地图]</a></li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n          <div class=\"left_jianjie_bt\"><span class=\"biaozhi\"/><span>园区信息</span></div>\r\n          <div class=\"left_jianjie_nr\">\r\n            <p>{{ gatewayData.parkIntroduce||'暂无园区信息' }}</p>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"list_tiaoj\"><span\r\n          id=\"checked_zx\"\r\n          class=\"active\">物流专线</span><span id=\"checked_wangdian\">物流网点</span></div>\r\n        <div class=\"list_left_zx\">\r\n          <div\r\n            class=\"w1036\"\r\n            style=\" background-color: #fff;margin-bottom: 20px;\">\r\n\r\n            <div class=\"select_con\">\r\n              <dl>\r\n                <dd style=\"margin-left: -80px;\">\r\n                  <div\r\n                    id=\"wlLineFrom\"\r\n                    class=\"fl list_input\"\r\n                    style=\"position:relative;\" >\r\n                    <input\r\n                      name=\"cfd\"\r\n                      style=\"height: 100%;\"\r\n                      data-toggle=\"city-picker\"\r\n                      data-level=\"district\"\r\n                      type=\"text\"\r\n                      placeholder=\"请输入出发地\" >\r\n                  </div>\r\n                  <img\r\n                    class=\"fl list_img\"\r\n                    src=\"/images/02jiantou.png\">\r\n                  <div\r\n                    id=\"wlLineTo\"\r\n                    class=\"fl list_input\"\r\n                    style=\"position:relative;\" >\r\n                    <input\r\n                      name=\"ddd\"\r\n                      style=\"height: 100%;\"\r\n                      data-toggle=\"city-picker\"\r\n                      data-level=\"district\"\r\n                      type=\"text\"\r\n                      placeholder=\"请输入到达地\" >\r\n                  </div>\r\n\r\n                  <input\r\n                    v-model=\"searchWLGS\"\r\n                    type=\"text\"\r\n                    class=\"list_input\"\r\n                    placeholder=\"请输入公司名称\">\r\n                  <input\r\n                    name=\"Submit2\"\r\n                    value=\"搜索\"\r\n                    readonly=\"\"\r\n                    class=\"list_button\"\r\n                    @click=\"searchWlLine()\">\r\n                  <input\r\n                    id=\"flush\"\r\n                    name=\"Submit2\"\r\n                    value=\"重置\"\r\n                    readonly=\"\"\r\n                    @click=\"flush()\">\r\n\r\n                </dd>\r\n\r\n\r\n                <dt >增值服务&nbsp;:</dt>\r\n                <dd>\r\n                  <a\r\n                    v-for=\"(item,index) in AF025\"\r\n                    :key=\"index\"\r\n                    :class=\"[AF025Name === item.name ? 'now': '']\"\r\n                    @click=\"selectAF025(item)\">{{ item.name }}</a>\r\n                </dd>\r\n                <dt >排序&nbsp;:</dt>\r\n                <dd>\r\n                  <a\r\n                    v-for=\"(item,index) in sortList\"\r\n                    :key=\"index\"\r\n                    :class=\"[sortName === item.name ? 'now': '']\"\r\n                    @click=\"selectSort(item)\">{{ item.name }}</a>\r\n                </dd>\r\n              </dl>\r\n            </div>\r\n          </div>\r\n          <div class=\"w1036\" >\r\n            <dl class=\"zx_bt\" >\r\n              <dd class=\"bt01\">出发地&nbsp;&rarr;&nbsp;到达地</dd>\r\n              <dd class=\"bt02\">重货价格</dd>\r\n              <dd class=\"bt03\">轻货价格</dd>\r\n              <dd class=\"bt04\">时效</dd>\r\n              <dd class=\"bt05\">物流公司</dd>\r\n              <dd class=\"bt06\">操作</dd>\r\n            </dl>\r\n            <ul\r\n              class=\"zx_nr \"\r\n              style=\"margin-top: 0px;\">\r\n              <div\r\n                v-if=\"transportRange.length === 0\"\r\n                class=\"list_none\"\r\n                style=\"display: block;\">\r\n                <span>暂时没有找到您要查询的信息，可以看看其他物流园区哦</span>\r\n                <img src=\"/images/none_pic.png\">\r\n              </div>\r\n              <li\r\n                v-for=\"(item,index) in transportRange\"\r\n                :key=\"index\">\r\n                <a\r\n                  :href=\"'/zhuanxian/detail?id=' + item.id +'&publishId=' + item.publishId\"\r\n                  target=\"_blank\"><span class=\"nr01\">{{ item.startCity }}{{ item.startArea }}&nbsp;&rarr;&nbsp;{{ item.endCity }}{{ item.endArea }}</span></a>\r\n                <a\r\n                  :href=\"'/zhuanxian/detail?id=' + item.id +'&publishId=' + item.publishId\"\r\n                  target=\"_blank\"><span class=\"nr02\" ><font style=\"color:#f00\">{{ item.weightPrice||0 }}</font>元/公斤</span></a>\r\n                <a\r\n                  :href=\"'/zhuanxian/detail?id=' + item.id +'&publishId=' + item.publishId\"\r\n                  target=\"_blank\"><span class=\"nr03\" ><font style=\"color:#f00\">{{ item.lightPrice||0 }}</font>元/方</span> </a>\r\n                <a\r\n                  :href=\"'/zhuanxian/detail?id=' + item.id +'&publishId=' + item.publishId\"\r\n                  target=\"_blank\"><span class=\"nr04\">{{ item.transportAging }}{{ item.transportAgingUnit }}</span></a>\r\n                <a\r\n                  :href=\"'/zhuanxian/detail?id=' + item.id +'&publishId=' + item.publishId\"\r\n                  target=\"_blank\"><span class=\"nr05\">{{ item.companyName }}</span></a>\r\n                <a\r\n                  :href=\"'/zhuanxian/detail?id=' + item.id +'&publishId=' + item.publishId\"\r\n                  target=\"_blank\"><span class=\"nr06\">详情</span></a>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n\r\n          <!--分页-->\r\n          <div\r\n            class=\"box\"\r\n            style=\"float: right;margin-right: 160px;\">\r\n            <div\r\n              id=\"pagination1\"\r\n              class=\"page fl\"/>\r\n            <div class=\"info fl\">\r\n            <!--<p>当前页数：<span id=\"current1\">1</span></p>-->\r\n            </div>\r\n          </div>\r\n          <!--分页-->\r\n        </div>\r\n\r\n\r\n        <div class=\"list_left_wangdian\">\r\n          <div\r\n            class=\"w1036\"\r\n            style=\" background-color: #fff;margin-bottom: 20px;\">\r\n\r\n            <div class=\"select_con\">\r\n              <dl>\r\n                <dd style=\"margin-left: -80px;\">\r\n                  <input\r\n                    v-model=\"searchWDKey\"\r\n                    type=\"text\"\r\n                    class=\"list_input\"\r\n                    placeholder=\"请输入网点名称\" >\r\n                  <input\r\n                    value=\" 搜索 \"\r\n                    readonly=\"\"\r\n                    class=\"list_button\"\r\n                    @click=\"searchWD()\">\r\n\r\n                </dd>\r\n\r\n                <dt >其他&nbsp;:</dt>\r\n                <dd>\r\n                  <a \r\n                    :href=\"'/wuliu/detail?&id='+ $route.query.id \"\r\n                    class=\"all\"\r\n                    :class=\"[$route.query.comAuthStatus?'all':'now']\"\r\n                  >不限</a>\r\n                  <a \r\n                    :class=\"{now:$route.query.comAuthStatus}\"\r\n                    :href=\"'/wuliu/detail?comAuthStatus=AF0010403&id='+ $route.query.id \"\r\n                    class=\"shiming\">认证</a>\r\n                </dd>\r\n              </dl>\r\n            </div>\r\n          </div>\r\n          <div class=\"w1036\" >\r\n            <div\r\n              v-if=\"logisticsCompany.length === 0\"\r\n              class=\"list_none\"\r\n              style=\"display: block;\">\r\n              <span>暂时没有找到您要查询的信息，可以看看其他物流园区哦</span>\r\n              <img src=\"/images/none_pic.png\">\r\n            </div>\r\n            <ul\r\n              v-for=\"(item,index) in logisticsCompany\"\r\n              :key=\"index\"\r\n              class=\"wlzx_list\">\r\n              <li class=\"wlzx_list_2\">\r\n                <p class=\"p1\">\r\n                  <font>{{ item.pointName }}</font><a\r\n                    v-if=\"item.qq\"\r\n                    :href=\"'http://wpa.qq.com/msgrd?v='+ item.qq +'&uin=&site=qq&menu=yes'\"\r\n                    target=\"_blank\"><img src=\"/images/article_wlzx/15qq.gif\"></a>\r\n                </P>\r\n\r\n                <p class=\"p2\"><a href=\"#\">{{ item.companyName }}</a></p>\r\n                <p\r\n                  v-if=\"item.credit >= 0 && item.credit <= 150\"\r\n                  class=\"p3\"><i>信誉：</i>\r\n                  <img\r\n                    v-for=\"(item1,index1) in item.starS\"\r\n                    :key=\"index1\"\r\n                    class=\"xy_zuan\"\r\n                    src=\"/images/article_wlzx/blue.gif\"\r\n                    style=\"display: inline\">\r\n                </p>\r\n                <p\r\n                  v-if=\"item.credit >= 151\"\r\n                  class=\"p3\"><i>信誉：</i>\r\n                  <img\r\n                    v-for=\"(item1,index1) in item.starB\"\r\n                    :key=\"index1\"\r\n                    class=\"xy_zuan\"\r\n                    src=\"/images/article_wlzx/34huanguan.gif\"\r\n                    style=\"display: inline\">\r\n                </p>\r\n                <p class=\"p4\"><i>联系人：</i><font>{{ item.contactsName }}</font></p>\r\n                <p class=\"p5\"><i>电话：</i><font>{{ item.contactsTel }} {{ item.mobile }}</font></p>\r\n              </li>\r\n              <li class=\"wlzx_list_3\">\r\n                <p class=\"p1\"><i>经营范围：</i><span>{{ item.productService1 }}</span></P>\r\n                <p class=\"p2\"><i>增值服务：</i><span>{{ item.otherService1 }}</span></p>\r\n              </li>\r\n              <li class=\"wlzx_list_4\">\r\n                <p\r\n                  v-if=\"item.authStatus === 'AF0010403'\"\r\n                  class=\"p1\"><img src=\"/images/10shiming.png\"></P>\r\n                <p\r\n                  v-if=\"item.isVip === 1\"\r\n                  class=\"p2\"><img src=\"/images/11xinyong.png\"></p>\r\n                <p\r\n                  v-if=\"item.collateral > 0\"\r\n                  class=\"p3\"><img src=\"/images/12danbao.png\"></p>\r\n              </li>\r\n              <li class=\"wlzx_list_6\">\r\n                <p class=\"p1\"><a\r\n                  :href=\" '/create/order?&uid=' + item.account +'&publishId=' + item.companyId\"\r\n                  target=\"_blank\"><input value=\"下单\"></a>\r\n                </p><p class=\"p2\"><a\r\n                  :href=\"'/member/' + item.companyId + ''\"\r\n                  target=\"_blank\"><input value=\"查看官网\"></a>\r\n              </p><p class=\"p3\"/></li>\r\n            </ul>\r\n          </div>\r\n          <!--分页-->\r\n          <div\r\n            class=\"box\"\r\n            style=\"float: right;margin-right: 170px;\">\r\n            <div\r\n              id=\"pagination2\"\r\n              class=\"page fl\"/>\r\n            <div class=\"info fl\">\r\n            <!--<p>当前页数：<span id=\"current1\">1</span></p>-->\r\n            </div>\r\n          </div>\r\n          <!--分页-->\r\n        </div>\r\n\r\n\r\n      </div>\r\n\r\n      <div class=\"list_right\">\r\n\r\n        <div class=\"zx_sx\"><span class=\"biaozhi\"/><span>承运商推荐</span></div>\r\n        <div\r\n          v-if=\"companysList.length==0||companysList ==null\"\r\n          class=\"tj_none\"\r\n          style=\"display: block\">\r\n          <span>没有相关承运商推荐</span>\r\n        </div>\r\n        <div v-else>\r\n          <div\r\n            v-for=\"(item,index) in companysList\"\r\n            :key=\"index\"\r\n            class=\"tj_list tj_list0\">\r\n            <p class=\"p1\">\r\n              <a\r\n                :href=\"'/member/'+item.id+''\"\r\n                target=\"_blank\"><span>{{ item.companyName }}</span></a>\r\n\r\n            </p>\r\n            <p\r\n              v-if=\"item.credit >= 0 && item.credit <= 150\"\r\n              class=\"p2\">\r\n              <img\r\n                v-for=\"(item1,index1) in item.starS\"\r\n                :key=\"index1\"\r\n                class=\"xy_zuan\"\r\n                src=\"/images/article_wlzx/blue.gif\"\r\n                style=\"display: inline\">\r\n            </p>\r\n            <p\r\n              v-if=\"item.credit >= 151\"\r\n              class=\"p2\">\r\n              <img\r\n                v-for=\"(item1,index1) in item.starB\"\r\n                :key=\"index1\"\r\n                class=\"xy_zuan\"\r\n                src=\"/images/article_wlzx/34huanguan.gif\"\r\n                style=\"display: inline\">\r\n            </p>\r\n            <p class=\"p3\"><i data-v-63732202=\"\">联系人：</i><font>{{ item.contactsName || '暂无' }}</font></p>\r\n            <p class=\"p4\"><i>电话：</i><font> {{ item.mobile || '暂无' }}</font></p>\r\n            <p class=\"p5\"><i data-v-63732202=\"\">地址：</i><font>{{ item.address|| '暂无' }}</font></p>\r\n            <p class=\"p6\"><a\r\n              :href=\"'/member/'+item.id+''\"\r\n              target=\"_blank\"><span data-v-63732202=\"\">查看&nbsp;&gt;</span></a></p>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nfunction setCredit(item) {\r\n  if (item.credit >= 0 && item.credit <= 3) {\r\n    item.starS = new Array(1)\r\n  }\r\n  if (item.credit >= 4 && item.credit <= 10) {\r\n    item.starS = new Array(2)\r\n  }\r\n  if (item.credit >= 11 && item.credit <= 40) {\r\n    item.starS = new Array(3)\r\n  }\r\n  if (item.credit >= 41 && item.credit <= 90) {\r\n    item.starS = new Array(4)\r\n  }\r\n  if (item.credit >= 91 && item.credit <= 150) {\r\n    item.starS = new Array(5)\r\n  }\r\n  if (item.credit >= 151 && item.credit <= 250) {\r\n    item.starB = new Array(1)\r\n  }\r\n  if (item.credit >= 251 && item.credit <= 500) {\r\n    item.starB = new Array(2)\r\n  }\r\n  if (item.credit >= 501 && item.credit <= 1000) {\r\n    item.starB = new Array(3)\r\n  }\r\n  if (item.credit >= 1001 && item.credit <= 2000) {\r\n    item.starB = new Array(4)\r\n  }\r\n  if (item.credit >= 2001) {\r\n    item.starB = new Array(5)\r\n  }\r\n}\r\nasync function getLogisticsCompany(\r\n  $axios,\r\n  query,\r\n  vo = { parkId: 1, defaultSort: 1 }\r\n) {\r\n  let list,\r\n    parm1 = {\r\n      currentPage: 1,\r\n      pageSize: 100,\r\n      parkId: query.id,\r\n      comAuthStatus: query.comAuthStatus\r\n      // vo\r\n    }\r\n  await $axios.post('/28-web/pointNetwork/findParkNet', parm1).then(res => {\r\n    res.data.data.list.forEach(item => {\r\n      if (JSON.parse(item.productService).length > 0) {\r\n        item.productService1 = (item.productServiceNameList || []).join(' ')\r\n      }\r\n      if (JSON.parse(item.otherService).length > 0) {\r\n        item.otherService1 = (item.otherServiceNameList || []).join(' ')\r\n      }\r\n      setCredit(item)\r\n    })\r\n    if (res.data.status === 200) {\r\n      list = res.data.data.list\r\n    }\r\n  })\r\n  return list\r\n}\r\nasync function getTransportRange($axios, query, vo = {}) {\r\n  let list,\r\n    parm1 = vo\r\n  // parm1 = {\r\n  //   currentPage: 1,\r\n  //   pageSize: 100,\r\n  //   parkId: query.id\r\n  // }\r\n  parm1.currentPage = 1\r\n  parm1.pageSize = 100\r\n  parm1.parkId = query.id\r\n  // console.log(parm1, 'parm1')\r\n  await $axios.post('/28-web/range/park/list/', parm1).then(res => {\r\n    res.data.data.list.forEach(item => {\r\n      item.transportAgingUnit = item.transportAgingUnit.replace('多', '')\r\n    })\r\n    if (res.data.status === 200) {\r\n      list = res.data.data.list\r\n    }\r\n  })\r\n  return list\r\n}\r\nexport default {\r\n  name: 'WuLiu',\r\n  head: {\r\n    link: [\r\n      { rel: 'stylesheet', href: '/css/basic.css' },\r\n      { rel: 'stylesheet', href: '/css/jquery.pagination.css' },\r\n      { rel: 'stylesheet', href: '/css/article_wlyq.css' }\r\n    ],\r\n    script: [\r\n      {\r\n        src:\r\n          'http://api.map.baidu.com/api?v=2.0&ak=e0abRWFWOrgmN7emYjQGPj4Z0vyTVTfo'\r\n      }\r\n    ]\r\n  },\r\n  data() {\r\n    return {\r\n      AF025Name: '不限',\r\n      sortList: [\r\n        { name: '默认排序', orderBy: 'default' },\r\n        { name: '交易量', orderBy: 'orderDesc' },\r\n        { name: '运输时效', orderBy: 'transportAgingAsc' },\r\n        { name: '重货价格', orderBy: 'weigthPriceAsc' }\r\n      ],\r\n      sortName: '默认排序',\r\n      searchWLGS: '',\r\n      searchWDKey: ''\r\n    }\r\n  },\r\n  async asyncData({ $axios, query }) {\r\n    let gatewayData = await $axios.get('/28-web/logisticsPark/' + query.id)\r\n    let jwd = ''\r\n    const longitude = gatewayData.data.data.longitude\r\n    const latitude = gatewayData.data.data.latitude\r\n    if (longitude && latitude) {\r\n      jwd = longitude + ',' + latitude\r\n    }\r\n    let parm = {\r\n      currentPage: 1,\r\n      pageSize: 100,\r\n      vo: {\r\n        parkId: query.id\r\n      }\r\n    }\r\n    // let companysList = await $axios.post(\r\n    //   '/aflc-portal/portalt/aflcLogisticsCompany/v1/recommendCompanys',\r\n    //   parm\r\n    // )\r\n    // companysList.data.data.list.forEach(item => {\r\n    //   setCredit(item)\r\n    // })\r\n    let flag = ''\r\n    let companysList = await $axios.get(\r\n      '/28-web/logisticsCompany/excellent?flag=' + flag\r\n    )\r\n    companysList.data.data.forEach(item => {\r\n      setCredit(item)\r\n    })\r\n\r\n    // console.log(gatewayData.data.data, 'gatewayData.data.data')\r\n    let parm2\r\n    const transportRange = await getTransportRange($axios, query, parm2)\r\n    const logisticsCompany = await getLogisticsCompany($axios, query)\r\n    let AF025 = await $axios.get('/28-web/sysDict/getSysDictByCodeGet/AF025')\r\n    AF025.data.data.unshift({ name: '不限', code: '' })\r\n    // console.log(transportRange, 'transportRange')\r\n    return {\r\n      gatewayData: gatewayData.data.status === 200 ? gatewayData.data.data : {},\r\n      jwd,\r\n      companysList:\r\n        companysList.data.status === 200 ? companysList.data.data : [],\r\n      transportRange: transportRange,\r\n      logisticsCompany: logisticsCompany,\r\n      AF025: AF025.data.status === 200 ? AF025.data.data : []\r\n    }\r\n  },\r\n  mounted() {\r\n    seajs.use(['../js/city-picker.data.js'], function() {\r\n      seajs.use(['../js/city-picker.js'], function() {\r\n        //切换内容 S\r\n        $('#checked_zx').click(function() {\r\n          $('.list_left_zx').css('display', 'block')\r\n          $('#checked_zx').addClass('active')\r\n          $('.list_left_wangdian').css('display', 'none')\r\n          $('#checked_wangdian').removeClass('active')\r\n        })\r\n        $('#checked_wangdian').click(function() {\r\n          $('.list_left_zx').css('display', 'none')\r\n          $('#checked_zx').removeClass('active')\r\n          $('.list_left_wangdian').css('display', 'block')\r\n          $('#checked_wangdian').addClass('active')\r\n        })\r\n\r\n        //切换内容 E\r\n        var locationProvince = $.cookie('currentProvinceFullName')\r\n        var locationCity = $.cookie('currentAreaFullName')\r\n        $('#arc_nav_a1').attr(\r\n          'href',\r\n          '/wuliu?tid=1' +\r\n            '&locationProvince=' +\r\n            locationProvince +\r\n            '&locationCity=' +\r\n            locationCity\r\n        )\r\n        $('#arc_nav_a1').html(locationCity + '物流园区')\r\n      })\r\n    })\r\n  },\r\n  methods: {\r\n    async searchWlLine() {\r\n      let list1 = [],\r\n        list2 = []\r\n      $('#wlLineFrom .select-item').each(function(i, e) {\r\n        list1.push($(this).text())\r\n      })\r\n      let startp = list1[0]\r\n      let startc = list1[1]\r\n      let starta = list1[2]\r\n\r\n      $('#wlLineTo .select-item').each(function(i, e) {\r\n        list2.push($(this).text())\r\n      })\r\n      let endp = list2[0]\r\n      let endc = list2[1]\r\n      let enda = list2[2]\r\n      this.transportRange = await getTransportRange(\r\n        this.$axios,\r\n        this.$route.query,\r\n        {\r\n          companyName: this.searchWLGS,\r\n          endArea: enda,\r\n          endCity: endc,\r\n          endProvince: endp,\r\n          startArea: starta,\r\n          startCity: startc,\r\n          startProvince: startp\r\n        }\r\n      )\r\n      // console.log(this.transportRange, ' this.transportRange')\r\n    },\r\n    async flush() {\r\n      $('#wlLineFrom input').citypicker('reset')\r\n      $('#wlLineTo input').citypicker('reset')\r\n      this.AF025Name = '不限'\r\n      this.sortName = '默认排序'\r\n      this.searchWLGS = ''\r\n      this.transportRange = await getTransportRange(\r\n        this.$axios,\r\n        this.$route.query\r\n      )\r\n    },\r\n    searchWD() {\r\n      window.open('/gongsi?&wangdian=' + this.searchWDKey)\r\n    },\r\n    async selectSort(item) {\r\n      let list1 = [],\r\n        list2 = []\r\n      // console.log(item, 'item2')\r\n      $('#wlLineFrom .select-item').each(function(i, e) {\r\n        list1.push($(this).text())\r\n      })\r\n      let startp = list1[0]\r\n      let startc = list1[1]\r\n      let starta = list1[2]\r\n\r\n      $('#wlLineTo .select-item').each(function(i, e) {\r\n        list2.push($(this).text())\r\n      })\r\n      let endp = list2[0]\r\n      let endc = list2[1]\r\n      let enda = list2[2]\r\n      this.sortName = item.name\r\n      this.transportRange = await getTransportRange(\r\n        this.$axios,\r\n        this.$route.query,\r\n        {\r\n          companyName: this.searchWLGS,\r\n          endArea: enda,\r\n          endCity: endc,\r\n          endProvince: endp,\r\n          startArea: starta,\r\n          startCity: startc,\r\n          startProvince: startp,\r\n          orderBy: item.orderBy\r\n        }\r\n        // orderBy:item.vo\r\n      )\r\n    },\r\n    async selectAF025(item) {\r\n      let list1 = [],\r\n        list2 = []\r\n      $('#wlLineFrom .select-item').each(function(i, e) {\r\n        list1.push($(this).text())\r\n      })\r\n      let startp = list1[0]\r\n      let startc = list1[1]\r\n      let starta = list1[2]\r\n\r\n      $('#wlLineTo .select-item').each(function(i, e) {\r\n        list2.push($(this).text())\r\n      })\r\n      let endp = list2[0]\r\n      let endc = list2[1]\r\n      let enda = list2[2]\r\n      this.AF025Name = item.name\r\n      // console.log(item.code, 'item.code')\r\n      this.transportRange = await getTransportRange(\r\n        this.$axios,\r\n        this.$route.query,\r\n        // { otherServiceCode: item.code },\r\n        {\r\n          companyName: this.searchWLGS,\r\n          endArea: enda,\r\n          endCity: endc,\r\n          endProvince: endp,\r\n          startArea: starta,\r\n          startCity: startc,\r\n          startProvince: startp,\r\n          otherServiceCode: item.code\r\n        }\r\n      )\r\n    },\r\n    map_init() {\r\n      let map = new BMap.Map('allmap')\r\n      let jwd = this.jwd ? this.jwd : '113.339865,23.138652'\r\n      let newLoc = jwd.split(',')\r\n      let point = new BMap.Point(parseFloat(newLoc[0]), parseFloat(newLoc[1]))\r\n      map.centerAndZoom(point, 17)\r\n      let marker = new BMap.Marker(point) // 创建标注\r\n      map.addOverlay(marker) // 将标注添加到地图中\r\n      marker.setAnimation(BMAP_ANIMATION_BOUNCE) //跳动的动画\r\n\r\n      //添加地图类型控件\r\n\r\n      map.addControl(\r\n        new BMap.MapTypeControl({\r\n          mapTypes: [BMAP_NORMAL_MAP, BMAP_HYBRID_MAP]\r\n        })\r\n      )\r\n      map.setCurrentCity('广州') // 设置地图显示的城市 此项是必须设置的\r\n      map.enableScrollWheelZoom(true) //开启鼠标滚轮缩放\r\n      var opts = { type: BMAP_NAVIGATION_CONTROL_SMALL }\r\n      map.addControl(new BMap.NavigationControl(opts))\r\n    },\r\n    map_block() {\r\n      $('#allmap').css('display', 'block')\r\n    },\r\n    seeMap() {\r\n      this.map_block()\r\n      this.map_init()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n</style>\r\n"],"mappings":"AA0WA","sourceRoot":""}