{"version":3,"file":"cf1f8d5e7032fe10e506.js","sources":["webpack:///./pages/wuliu/index.vue"],"sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nasync function gateWayList($axios, currentPage, vo = {}) {\r\n  let parm = vo\r\n  parm.currentPage = currentPage\r\n  parm.pageSize = 21\r\n  let res = await $axios.post('/28-web/logisticsPark/list', parm)\r\n  if (res.data.status === 200) {\r\n    return {\r\n      list: res.data.data.list,\r\n      pages: res.data.data.pages,\r\n      currentPage: res.data.data.pageNum\r\n    }\r\n  } else {\r\n    return { list: [], pages: 0, currentPage: 1 }\r\n  }\r\n}\r\nexport default {\r\n  name: 'WuLiu',\r\n  head: {\r\n    link: [\r\n      { rel: 'stylesheet', href: '/css/basic.css' },\r\n      { rel: 'stylesheet', href: '/css/jquery.pagination.css' },\r\n      { rel: 'stylesheet', href: '/css/list_wlyq.css' }\r\n    ],\r\n    script: [\r\n      { src: './js/city-picker.data.js' },\r\n      { src: './js/city-picker.js' },\r\n      { src: './js/jquery.pagination.min.js' }\r\n    ]\r\n  },\r\n  data() {\r\n    return {\r\n      pages: 0, //总页数\r\n      currentPage: 1 //当前页\r\n    }\r\n  },\r\n  async asyncData({ $axios, app, query }) {\r\n    let vo = {\r\n      parkName: query.parkName ? query.parkName : '',\r\n      locationProvince: query.locationProvince\r\n        ? query.locationProvince\r\n        : app.$cookies.get('currentProvinceFullName'),\r\n      locationCity: query.locationCity\r\n        ? query.locationCity\r\n        : app.$cookies.get('currentAreaFullName'),\r\n      locationArea: query.locationArea ? query.locationArea : ''\r\n    }\r\n    let parm = vo\r\n    parm.currentPage = 1\r\n    parm.pageSize = 16\r\n    // let getLogisticsPark = await $axios.post(\r\n    //   '/28-web/logisticsPark/interested/list',\r\n    //   parm\r\n    // )\r\n    let getLogisticsPark = await $axios.post(\r\n      '/28-web/logisticsPark/interested/list',\r\n      parm\r\n    )\r\n    let parm1 = vo\r\n    parm1.currentPage = 1\r\n    parm1.pageSize = 14\r\n    // let recommendParkList = await $axios.post(\r\n    //   '/28-web/logisticsPark/recommend/list',\r\n    //   parm1\r\n    // )\r\n    let recommendParkList = await $axios.post(\r\n      '/28-web/logisticsPark/recommend/list',\r\n      parm1\r\n    )\r\n    let getGateWayListData = await gateWayList($axios, 1, vo)\r\n    console.log(recommendParkList.data.data.list, 'recommendParkList')\r\n    return {\r\n      getGateWayList: getGateWayListData.list,\r\n      pages: getGateWayListData.pages,\r\n      currentPage: getGateWayListData.currentPage,\r\n      getLogisticsPark:\r\n        getLogisticsPark.data.status === 200\r\n          ? getLogisticsPark.data.data.list\r\n          : [],\r\n      recommendParkList:\r\n        recommendParkList.data.status === 200\r\n          ? recommendParkList.data.data.list\r\n          : [],\r\n      vo: vo\r\n    }\r\n  },\r\n  mounted() {\r\n    $('#parkAddress input').citypicker({\r\n      province: this.vo.locationProvince,\r\n      city: this.vo.locationCity,\r\n      district: this.vo.locationArea\r\n    })\r\n    $('#list_nav_a').html(\r\n      this.vo.locationCity + this.vo.locationArea + '物流园区'\r\n    )\r\n    this.loadPagination()\r\n  },\r\n  methods: {\r\n    async search() {\r\n      let list1 = []\r\n      $('#parkAddress .select-item').each(function(i, e) {\r\n        list1.push($(this).text())\r\n      })\r\n      this.vo.locationProvince = list1[0] ? list1[0] : ''\r\n      this.vo.locationCity = list1[1] ? list1[1] : ''\r\n      this.vo.locationArea = list1[2] ? list1[2] : ''\r\n      window.location.href = `/wuliu?locationProvince=${\r\n        this.vo.locationProvince\r\n      }&locationCity=${this.vo.locationCity}&locationArea=${\r\n        this.vo.locationArea\r\n      }&parkName=${this.vo.parkName}`\r\n    },\r\n    reload() {\r\n      window.location.href = '/wuliu'\r\n    },\r\n    loadPagination() {\r\n      $('#pagination1').pagination({\r\n        currentPage: this.currentPage,\r\n        totalPage: this.pages,\r\n        callback: async current => {\r\n          $('#current1').text(current)\r\n          let obj = await gateWayList(this.$axios, current, this.vo)\r\n          this.getGateWayList = obj.list\r\n          this.currentPage = obj.currentPage\r\n          window.location.href = '#top'\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n"],"mappings":"AAiKA","sourceRoot":""}