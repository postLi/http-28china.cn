webpackJsonp([18],{"/OH/":function(e,t,i){"use strict";function n(e){i("xT+W")}var o=i("xoQy"),a=i("qZ1X"),s=i("VU/8"),r=n,c=s(o.a,a.a,r,"data-v-173f2f52",null);t.a=c.exports},"89A4":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{attrs:{title:"新增订阅线路",width:"500px","before-close":e.close,"close-on-click-modal":!1,visible:e.isshow}},[i("el-form",{ref:"formName",staticClass:"add_subscribe",attrs:{rules:e.rules,"label-width":e.formLabelWidth,model:e.form}},[i("el-form-item",{attrs:{label:"出发地：",prop:"startLocation"}},[i("vregion",{staticClass:"form-control",attrs:{ui:!0,ifAera:!0},on:{values:function(t){return e.regionChange(t)},testCity:function(t){e.ifProvice("start")}}},[i("el-input",{attrs:{placeholder:"请选择出发地"},model:{value:e.form.startLocation,callback:function(t){e.$set(e.form,"startLocation",t)},expression:"form.startLocation"}})],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"目的地：",prop:"endLocation"}},[i("vregion",{staticClass:"form-control",attrs:{ui:!0,ifAera:!0},on:{values:function(t){return e.regionChange(t,"end")},testCity:function(t){e.ifProvice("end")}}},[i("el-input",{attrs:{placeholder:"请选择目的地"},model:{value:e.form.endLocation,callback:function(t){e.$set(e.form,"endLocation",t)},expression:"form.endLocation"}})],1)],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:e.close}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary",disabled:e.isreq},on:{click:e.submit}},[e._v("确 定")])],1)],1)},o=[],a={render:n,staticRenderFns:o};t.a=a},"8sHD":function(e,t,i){var n=i("kM2E"),o=i("KpO7");n(n.S+n.F*(Number.parseInt!=o),"Number",{parseInt:o})},ApA4:function(e,t){},BpPu:function(e,t){},KpO7:function(e,t,i){var n=i("7KvD").parseInt,o=i("mnVu").trim,a=i("hyta"),s=/^[-+]?0[xX]/;e.exports=8!==n(a+"08")||22!==n(a+"0x16")?function(e,t){var i=o(String(e),3);return n(i,t>>>0||(s.test(i)?16:10))}:n},UZPH:function(e,t,i){"use strict";t.a={cn:{pleaseSelect:"请选择"},en:{pleaseSelect:"Please select"}}},bjab:function(e,t,i){"use strict";function n(e){i("ApA4")}Object.defineProperty(t,"__esModule",{value:!0});var o=i("mV+D"),a=i("89A4"),s=i("VU/8"),r=n,c=s(o.a,a.a,r,null,null);t.default=c.exports},gBtx:function(e,t,i){e.exports={default:i("qrpI"),__esModule:!0}},hmQ0:function(e,t,i){"use strict";function n(e){return c.b.post("/28-web/companyLine/member/list",e)}function o(e){return c.b.post("/28-web/companyLine/add",e)}function a(e){return c.b.post("/28-web/companyLine/handle/open/"+e)}function s(e){return c.b.post("/28-web/companyLine/handle/close/"+e)}function r(e){return c.b.post("/28-web/companyLine/handle/delete/"+e)}t.d=n,t.a=o,t.e=a,t.b=s,t.c=r;var c=i("Vo7i")},hyta:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},keop:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[!e.ui&&e.text?i("span",[e._v("\n        "+e._s(e.itemProvince&&e.itemProvince.value)+e._s(e.itemCity&&e.itemCity.value)+e._s(e.itemArea&&e.itemArea.value)+e._s(e.itemTown&&e.itemTown.value)+"\n    ")]):e._e(),e._v(" "),e.text||e.ui||!e.province?e._e():i("select",{directives:[{name:"model",rawName:"v-model",value:e.nowProvince,expression:"nowProvince"}],class:e.className,on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.nowProvince=t.target.multiple?i:i[0]}}},[e.blank?i("option",{attrs:{value:""}},[e._v(e._s(e.lang.pleaseSelect))]):e._e(),e._v(" "),e._l(e.listProvince,function(t){return i("option",{key:t.key,domProps:{value:t.key}},[e._v(e._s(t.value))])})],2),e._v(" "),!e.text&&!e.ui&&e.city&&e.haveCity?i("select",{directives:[{name:"model",rawName:"v-model",value:e.nowCity,expression:"nowCity"}],class:e.className,on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.nowCity=t.target.multiple?i:i[0]}}},[e.blank?i("option",{attrs:{value:""}},[e._v(e._s(e.lang.pleaseSelect))]):e._e(),e._v(" "),e._l(e.listCity,function(t){return i("option",{key:t.key,domProps:{value:t.key}},[e._v(e._s(t.value))])})],2):e._e(),e._v(" "),!e.text&&!e.ui&&(e.area&&e.city||!e.haveCity)&&e.listArea.length?i("select",{directives:[{name:"model",rawName:"v-model",value:e.nowArea,expression:"nowArea"}],class:e.className,on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.nowArea=t.target.multiple?i:i[0]}}},[e.blank?i("option",{attrs:{value:""}},[e._v(e._s(e.lang.pleaseSelect))]):e._e(),e._v(" "),e._l(e.listArea,function(t){return i("option",{key:t.key,domProps:{value:t.key}},[e._v(e._s(t.value))])})],2):e._e(),e._v(" "),!e.text&&!e.ui&&e.town&&e.area&&e.city?i("select",{directives:[{name:"model",rawName:"v-model",value:e.nowTown,expression:"nowTown"}],class:e.className,on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.nowTown=t.target.multiple?i:i[0]}}},[e.blank?i("option",{attrs:{value:""}},[e._v(e._s(e.lang.pleaseSelect))]):e._e(),e._v(" "),e._l(e.listTown,function(t){return i("option",{key:t.key,domProps:{value:t.key}},[e._v(e._s(t.value))])})],2):e._e(),e._v(" "),e.ui?i("div",{ref:"caller",staticClass:"caller-container",on:{click:function(t){t.stopPropagation(),t.preventDefault(),e.showDropdown(!0)}}},[e._t("default")],2):e._e(),e._v(" "),e.ui?i("v-dropdown",{ref:"dropdown",on:{hideDropdwon:function(t){e.showDropdown(!1)}}},[i("div",{staticClass:"rg-header"},[i("h3",[i("span",{directives:[{name:"show",rawName:"v-show",value:!(e.itemProvince||e.itemCity||e.itemArea||e.itemTown),expression:"!itemProvince&&!itemCity&&!itemArea&&!itemTown"}]},[e._v("行政区划选择器")]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.itemProvince||e.itemCity||e.itemArea||e.itemTown,expression:"itemProvince||itemCity||itemArea||itemTown"}],staticClass:"rg-header-selected"},[e._v("\n                    "+e._s(e.itemProvince&&e.itemProvince.value)+e._s(e.itemCity&&e.itemCity.value)+e._s(e.itemArea&&e.itemArea.value)+e._s(e.itemTown&&e.itemTown.value)+"\n                ")])]),e._v(" "),i("button",{staticClass:"rg-removeall-button",attrs:{type:"button",title:"清除选择"},on:{click:e.clear}},[i("i",{staticClass:"iconfont icon-removeall"})]),e._v(" "),i("button",{staticClass:"rg-done-button",attrs:{type:"button",title:"完成"},on:{click:function(t){e.showDropdown(!1)}}},[i("i",{staticClass:"iconfont icon-selected"})])]),e._v(" "),e.search?i("div",{staticClass:"rg-search"},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.query,expression:"query",modifiers:{trim:!0}}],ref:"input",staticClass:"rg-input",attrs:{type:"text",autocomplete:"off"},domProps:{value:e.query},on:{input:function(t){t.target.composing||(e.query=t.target.value.trim())},blur:function(t){e.$forceUpdate()}}})]):e._e(),e._v(" "),i("div",{staticClass:"rg-level-tabs"},[i("ul",e._l(e.levels,function(t,n){return e.checkAvailable(n)?i("li",{key:n},[i("a",{class:{active:n===e.levelIndex},attrs:{href:"javascript:void(0);",tab_id:"selectmenu_tab_"+(n+1),data_index:n},on:{click:function(t){e.levelIndex=n}}},[e._v(e._s(t.title))])]):e._e()}))]),e._v(" "),i("div",{staticClass:"rg-results-container"},[i("ul",{staticClass:"rg-results"},[e._l(e.list,function(t,n){return i("li",{key:n,class:{"rg-item":!0,active:e.matchItem(t)},on:{click:function(i){e.itemSelect(t)}}},[e._v(e._s(t.value))])}),e._v(" "),i("li",{directives:[{name:"show",rawName:"v-show",value:0===e.list.length,expression:"list.length === 0"}],staticClass:"rg-message-box"},[e._v("无匹配项目")])],2)])]):e._e()],1)},o=[],a={render:n,staticRenderFns:o};t.a=a},"mV+D":function(e,t,i){"use strict";var n=i("mcg1"),o=i("hmQ0");t.a={components:{vregion:n.a},props:{isshow:{type:Boolean,default:!1}},data:function(){return{formLabelWidth:"150",form:{startLocation:"",endLocation:""},isreq:!1,rules:{startLocation:[{required:!0,message:"请选择出发地"}],endLocation:[{required:!0,message:"请选择目的地"}]}}},watch:{isshow:function(e){e&&(this.form.startLocation="",this.form.endLocation="",this.$refs.formName&&this.$refs.formName.resetFields())}},mounted:function(){this.formdata={endArea:"",endCity:"",endProvince:"",startArea:"",startCity:"",startProvince:""}},methods:{close:function(){this.$emit("update:isshow",!1)},ifProvice:function(e){this.$message({type:"info",message:"至少选择到市级范围"}),this.form[e+"Location"]="",this.formdata[e+"Province"]="",this.formdata[e+"City"]="",this.formdata[e+"Area"]=""},getValue:function(e){return e?e.value:""},regionChange:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"start";this.form[t+"Location"]=(""+this.getValue(e.province)+this.getValue(e.city)+this.getValue(e.area)+this.getValue(e.town)).trim(),this.formdata[t+"Province"]=e.province?e.province.name:"",this.formdata[t+"City"]=e.city?e.city.name:"",this.formdata[t+"Area"]=e.area?e.area.name:""},submit:function(){var e=this;this.isreq=!0,this.$refs.formName.validate(function(t){if(!t)return e.isreq=!1,!1;Object(o.a)(e.formdata).then(function(t){e.isreq=!1,200===t.status&&(e.$message.success("添加成功"),e.$emit("success"),e.close())}).catch(function(t){e.isreq=!1,e.$message.warning(t.errorInfo||t.text||"发送错误，请重试")})})}}}},mcg1:function(e,t,i){"use strict";function n(e){i("BpPu")}var o=i("oCPT"),a=i("keop"),s=i("VU/8"),r=n,c=s(o.a,a.a,r,null,null);t.a=c.exports},mnVu:function(e,t,i){var n=i("kM2E"),o=i("52gC"),a=i("S82l"),s=i("hyta"),r="["+s+"]",c="​",l=RegExp("^"+r+r+"*"),u=RegExp(r+r+"*$"),h=function(e,t,i){var o={},r=a(function(){return!!s[e]()||c[e]()!=c}),l=o[e]=r?t(v):s[e];i&&(o[i]=l),n(n.P+n.F*r,"String",o)},v=h.trim=function(e,t){return e=String(o(e)),1&t&&(e=e.replace(l,"")),2&t&&(e=e.replace(u,"")),e};e.exports=h},oCPT:function(e,t,i){"use strict";var n=i("//Fk"),o=i.n(n),a=i("gBtx"),s=i.n(a),r=i("fZjL"),c=i.n(r),l=i("t5DY"),u=i("/OH/"),h=i("UZPH");t.a={name:"vregion",components:{"v-dropdown":u.a},props:{blank:{type:Boolean,default:!0},province:{type:Boolean,default:!0},city:{type:Boolean,default:!0},area:{type:Boolean,default:!0},town:{type:Boolean,default:!1},i18n:{type:String,default:"cn"},selected:Object,ui:{type:Boolean,default:!1},search:{type:Boolean,default:!0},text:{type:Boolean,default:!1},ifAera:{type:Boolean,default:!1}},data:function(){return{listProvince:[],listCity:[],listArea:[],listTown:[],nowProvince:"",nowCity:"",nowArea:"",nowTown:"",haveCity:!0,className:"",lang:{},init:this.selected,pauseWatch:!1,query:"",levels:[{index:0,title:"省/直辖市"},{index:1,title:"市"},{index:2,title:"区/县"},{index:3,title:"乡/镇/街道"}],levelIndex:-1,list:[],itemProvince:null,itemCity:null,itemArea:null,itemTown:null}},watch:{query:function(e){var t=this.getList(this.levelIndex),i=[];i=t.filter(function(t){return t.value.toLowerCase().includes(e.toLowerCase())}),0===i.length&&(i=t.filter(function(t){return t.key.includes(e)})),this.list=i},nowProvince:function(e){var t=this;this.pauseWatch||this.city&&this.fetchCity(e).then(function(i){if(i.code===t.nowProvince){var n=i.data;t.listArea.length&&t.listArea.splice(0,t.listArea.length),t.listCity=n,t.nowCity="",t.haveCity||(t.nowArea=""),t.itemProvince=t.listProvince.find(function(t){return t.key===e}),t.haveCity=!!t.listCity.length,t.$nextTick(function(){!t.haveCity&&t.area?t.changeCity():t.initSelected(2),t.ui&&(t.levelIndex=t.haveCity?1:2)}),t.changeValues()}})},nowCity:function(e){this.pauseWatch||(this.changeCity(),this.itemCity=this.listCity.find(function(t){return t.key===e}),this.ui&&(this.levelIndex=2),this.changeValues())},nowArea:function(e){if(!this.pauseWatch){var t=this;if(e&&t.town){var i=[];this.listTown=i}else this.listTown=[];this.town&&(this.nowTown=""),console.log("nowArea:",e,this.listArea),this.itemArea=this.listArea.find(function(t){return t.key===e}),this.initSelected(4),this.ui&&this.town&&(this.levelIndex=3),this.changeValues()}},nowTown:function(e){this.pauseWatch||(this.itemTown=this.listTown.find(function(t){return t.key===e}),this.changeValues())},selected:{handler:function(e){e&&c()(e).length&&(this.init=e,this.initSelected(1))},deep:!0},levelIndex:function(e){this.list=this.getList(e)}},methods:{changeCity:function(){var e=this;if(this.area||!this.haveCity&&this.province){if(this.haveCity&&!this.nowCity||!this.haveCity&&!this.nowProvince)console.log("2222222222:",this.haveCity,this.nowProvince,this.nowCity),this.listArea=[];else{var t=s()(this.haveCity?this.nowCity:this.nowProvince),i=this.haveCity;this.fetchCity(t).then(function(t){var n=t.data;if(i){if(e.nowCity!==t.code)return}else if(e.nowProvince!==t.code)return;e.listArea=n,console.log("333333333:",e.haveCity,e.nowProvince,e.nowCity,i,t.code,n),n.length&&(e.list=e.getList(2),e.initSelected(3))})}this.nowArea=""}else this.initSelected(3)},changeValues:function(){var e=this;this.$nextTick(function(){e.$emit("values",{province:e.itemProvince,city:e.itemCity,area:e.itemArea,town:e.itemTown})})},initSelected:function(e){var t=this,i=this.init,n=0;if(i&&c()(i).length){switch(e){case 1:t.province&&i.province&&(t.nowProvince=i.province);break;case 2:t.city&&i.city&&(t.nowCity=i.city);break;case 3:t.area&&i.area&&(t.nowArea=i.area);break;case 4:t.town&&i.town&&(t.nowTown=i.town)}t.province&&i.province&&n++,t.city&&(i.city||!i.city&&!t.haveCity&&t.area&&i.area)&&n++,t.area&&i.area&&n++,t.town&&i.town&&n++,e===n&&(this.init=null)}},getList:function(e){var t=[];switch(e){case 0:t=this.listProvince;break;case 1:t=this.listCity;break;case 2:t=this.listArea;break;case 3:t=this.listTown}return t},checkAvailable:function(e){var t=!1;switch(e){case 0:this.province&&(t=!0);break;case 1:this.city&&this.haveCity&&(t=!0);break;case 2:this.area&&(t=!0);break;case 3:this.town&&(t=!0)}return t},matchItem:function(e){return e.key===this.nowProvince||e.key===this.nowCity||e.key===this.nowArea||e.key===this.nowTown},itemSelect:function(e){switch(this.levelIndex){case 0:this.nowProvince=e.key,this.itemProvince=e;break;case 1:this.nowCity=e.key,this.itemCity=e;break;case 2:this.nowArea=e.key,this.itemArea=e;break;case 3:this.nowTown=e.key,this.itemTown=e}},showDropdown:function(e){var t=this;if(console.log(e),"boolean"==typeof e){var i=this;this.$refs.dropdown.$emit("show",e,this.$refs.caller);var n=!1,o=["北京市","天津市","重庆市","上海市","香港","澳门","台湾"];!1===e&&this.ifAera&&(o.forEach(function(e){0===t.itemProvince.name.indexOf(e)&&(n=!0)}),null==this.itemCity&&!1===n&&this.$emit("testCity")),e&&(this.query="",this.$nextTick(function(){return i.$refs.input.focus({preventScroll:!0})}))}},clear:function(){var e=this;this.pauseWatch=!0,this.nowProvince="",this.nowCity="",this.nowArea="",this.nowTown="",this.itemProvince=null,this.itemCity=null,this.itemArea=null,this.itemTown=null,this.listCity=[],this.listArea=[],this.listTown=[],this.levelIndex=0,this.$nextTick(function(){e.pauseWatch=!1,e.changeValues()})},fetchCity:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new o.a(function(i){return Object(l.a)(t).then(function(t){return t.data=e.formatCity(t.data),i(t),t}).catch(function(e){console.log("err:",e),i({code:t,data:[]})})})},formatCity:function(e){return e.map(function(e){return e.key=e.code,e.value=e.name,e})}},beforeMount:function(){this.lang=h.a[this.i18n]},mounted:function(){var e=this;this.fetchCity().then(function(t){var i=t.data.filter(function(e){return e});e.listProvince=e.ui?i.concat().sort(function(e,t){var i=e.value.length-t.value.length;return 0===i?Number(e.key)-Number(t.key):i}):i.concat(),e.className=e.$el.className,e.$el.className="v-region",e.selected&&e.selected.province&&(e.nowProvince=e.selected.province),e.ui&&(e.levelIndex=0)})}}},qZ1X:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"v-dropdown-container",style:[e.styleSheet]},[e._t("default")],2)},o=[],a={render:n,staticRenderFns:o};t.a=a},qrpI:function(e,t,i){i("8sHD"),e.exports=i("FeBl").Number.parseInt},t5DY:function(e,t,i){"use strict";function n(e){return e=e||"",m.b.get("/aflc-common/common/aflcCommonPCA/v1/findAflcCommonPCAByCode?code="+e).then(function(t){return t.code=e,t})}function o(){return d?new f.a(function(e){e(d)}):m.b.get("/anfacommonservice/common/oss/v1/policy").then(function(e){return d=e.data||"",setTimeout(function(){d=""},18e4),d})}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return m.b.get("/28-web/sysDict/getSysDictByCodeGet/"+e).then(function(e){return e.data||[]})}function s(e){return m.b.axios({url:"/28-web/sysDict/getSysDictByCodeGet/"+e,method:"get"})}function r(e){return m.b.axios({url:"/aflc-common/common/aflcMemberCenter/v1/getShipperInfoByMobile?mobile="+e,method:"get"})}function c(e){return m.b.axios({url:"/aflc-common/common/aflcMemberCenter/v1/getDriverInfoByMobile?mobile="+e,method:"get"})}function l(e){return m.b.get("/aflc-common/common/aflcMemberCenter/v1/getShipperInfoByMobile",{params:{mobile:e}})}function u(e){return m.b.axios({url:"/aflcorderservice/order/fclOrder/v1/getDetailsByOrderSerial/"+e,method:"get"})}function h(e,t){var i=new FormData;for(var n in t)i.append(n,t[n]);var o="";for(var a in t)o+="&"+a+"="+t[a];return m.b.request({url:"/aflc-common/common/aflcMemberCenter/v1/updatePassword?memberType="+e,method:"put",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:o})}t.a=n,t.h=o,t.f=a,t.c=s,t.g=r,t.d=c,t.e=l,t.b=u,t.i=h;var v=i("//Fk"),f=i.n(v),m=i("Vo7i"),d=void 0},"xT+W":function(e,t){},xoQy:function(e,t,i){"use strict";t.a={name:"v-dropdown",props:{position:{type:String,default:"left"}},data:function(){return{show:!1,styleSheet:{top:"",left:""}}},watch:{},methods:{visible:function(e,t){if("boolean"==typeof e){this.show=e;var i=this;this.$nextTick(function(){i.show&&i.adjust(t)})}},adjust:function(e){var t=e.getBoundingClientRect(),i=0,n=0,o=this.$el.getBoundingClientRect(),a=window.scrollY,s=document.body.clientHeight;if(this.rightClick){var r=this.y;this.y+o.height>a+s&&(r=this.y-o.height),n=this.x,i=r}else switch(i=t.top+t.height+5+a,this.position){case"left":n=t.left;break;case"center":n=t.left+t.width/2-o.width/2;break;case"right":n=t.left+t.width-o.width}this.styleSheet.top=i+"px",this.styleSheet.left=n+"px"},whole:function(e){if(this.show){-1===e.path.findIndex(function(e){return e.className&&e.className.includes("v-dropdown-container")})&&(this.show=!1,this.$emit("hideDropdwon"))}}},mounted:function(){this.$on("show",this.visible),document.addEventListener("mousedown",this.whole)},destroyed:function(){this.$off("show",this.visible),document.removeEventListener("mousedown",this.whole)}}}});