webpackJsonp([18],{"0SzW":function(t,e){},"3QU7":function(t,e,s){"use strict";function i(t){s("5xKW")}var o=s("b79V"),r=s("6BtH"),n=s("VU/8"),a=i,c=n(o.a,r.a,a,null,null);e.a=c.exports},"5xKW":function(t,e){},"6BtH":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-dialog",{attrs:{"custom-class":"aflcmap-pop-wrapper",title:"地图",visible:t.dialogTableVisible},on:{close:t.close,"update:visible":function(e){t.dialogTableVisible=e}}},[s("div",{attrs:{id:"mapcontainer"}}),t._v(" "),s("div",{attrs:{id:"myPageTop"}},[s("table",[s("tr",[s("td",[s("label",[t._v("请输入关键字：")])])]),t._v(" "),s("tr",[s("td",[s("input",{ref:"tipinput",attrs:{id:"tipinput"}})])])])]),t._v(" "),s("div",{staticClass:"aflcmap-pop-footer",attrs:{slot:"footer"},slot:"footer"},[s("div",{staticClass:"addrname"},[t._v("当前选中的地址："+t._s(this.thename)),s("br"),t._v("当前经纬度信息："+t._s(this.thepos))]),t._v(" "),s("el-button",{attrs:{type:"primary",disabled:t.noinfo},on:{click:t.submitForm}},[t._v("确 定")]),t._v(" "),s("el-button",{attrs:{type:"info"},on:{click:t.close}},[t._v("取 消")])],1)])},o=[],r={render:i,staticRenderFns:o};e.a=r},"9UCZ":function(t,e,s){"use strict";var i=s("TuGF"),o=s("GrA4"),r=s("VU/8"),n=r(i.a,o.a,null,null,null);e.a=n.exports},GrA4:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-select",t._b({ref:"myautocomplete",attrs:{placeholder:t.placeholder},on:{change:t.change},model:{value:t.val,callback:function(e){t.val=e},expression:"val"}},"el-select",t.$attrs,!1),[t._t("head"),t._v(" "),t._l(t.types,function(e){return[t._t("default",[s("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})],{item:e})]}),t._v(" "),t._t("foot")],2)},o=[],r={render:i,staticRenderFns:o};e.a=r},HNSu:function(t,e,s){"use strict";var i=s("mvHQ"),o=s.n(i),r=s("woOf"),n=s.n(r),a=s("9UCZ"),c=s("Zjyc"),l=s("3QU7"),d=s("t5DY"),u=s("d/hC"),f=s("K2xx");e.a={components:{selectType:a.a,upload:c.a,tmsmap:l.a},data:function(){var t=this;return{thepos:"",thename:"",title:"创建订单",maxCargoLength:5,cargoInfo:{goodsName:"",goodsNum:"",goodsVolume:"",goodsWeight:""},aflcOrderAddressWebDtoList:[{contacts:"",contactsPhone:"",isSave:!1,type:"0",provinceCityArea:"",viaAddress:"",viaAddressCoordinate:"",viaOrder:0},{contacts:"",contactsPhone:"",isSave:!1,type:"1",provinceCityArea:"",viaAddress:"",viaAddressCoordinate:"",viaOrder:1}],cargoList:[],ifDisable:!1,popVisible:!1,cargoListPre:[],rules:{startP:[{required:!0,message:"请输入原密码",trigger:"blur"},{validator:function(e,s,i){""===s?i(new Error("请再次输入密码")):s!==t.logisticsForm.newPassword?i(new Error("两次输入密码不一致!")):i()},trigger:"blur"}]},current:"",currentShowNetIndex:0,showPopNet:!1,startSelectIndex:0,startSelect:"",endSelectIndex:0,endSelect:"",wlbestlist:[],wlbestlistObj:{},wlindex:"",ruleForm:{clientIp:"",memberType:"",shipperId:"",orderClass:"",title:"",totalAmount:0,transportRangePublishId:"",wlId:"",wlName:"",orderFrom:"AF0040002",startPointId:"",endPointId:"",goodsType:0,forecastPrice:0},usersArr:[],netQuery:{},currentType:0,popContactTitle:"添加",popContactList:[],popContactListSearch:"",isCargo:!1,popPointList:{startPoints:[],endPoints:[]},contactPopVisible:!1,dialogFormVisible:!1,contactform:{address:"",contacts:"",cityCode:"",provinceCityArea:"",contactsPhone:"",coordinate:"",floorHousenum:"",isDefault:"0",shipperId:"",type:"0"}}},computed:{contactTitle:function(){return 0===this.currentType?"常用发货人":"常用收货人"},theTotalPrice:function(){return""===this.ruleForm.forecastPrice?"面议":this.ruleForm.forecastPrice+"元"},noCanSubmit:function(){return!1},searchPopContactList:function(){var t=this;return this.popContactList.filter(function(e){return-1!==e.contacts.indexOf(t.popContactListSearch)||-1!==e.contactsPhone.indexOf(t.popContactListSearch)||-1!==e.address.indexOf(t.popContactListSearch)})}},watch:{wlindex:function(t){t&&this.calcTotalFee()}},mounted:function(){this.id=this.$route.query.cid,this.cid=this.$route.query.id,this.isCargo=-1!==this.$route.path.indexOf("huoyuan"),this.isCargo?this.title="发布货源":this.title="创建订单",this.initCargo(),this.id?this.initModify():this.cid?this.initZX():this.$route.query.start?this.initSY():this.initNew()},methods:{setInputVal:function(t,e,s){this.$set(e,s,t)},detectGoodsNum:function(t){(parseInt(t.goodsNum,10)||0)<1&&(this.$message.error("总件数不能小于0"),t.goodsNum="")},validateIsEmpty:function(t,e){return function(t,s,i){var o=t.message;console.log("check",t,s),e?e.test(s)?i():i(new Error(o)):s?i():i(new Error(o))}},showMessage:function(t){this.$message.error(t)},initZX:function(){var t=this;this.getCompany({id:this.cid}).then(function(e){t.wlindex=t.cid,t.getNet(t.wlindex,0)}),this.cargoList=[n()({isget:!1},this.cargoInfo)],this.ruleForm.shipperId=this.otherinfo.id,this.ruleForm.memberType=this.otherinfo.rolesIdList[0],this.aflcOrderAddressWebDtoList[0].contacts=this.otherinfo.contactsName,this.aflcOrderAddressWebDtoList[0].contactsPhone=this.otherinfo.mobile,f.b(this.cid).then(function(e){t.aflcOrderAddressWebDtoList[0].provinceCityArea=e.startLocation,t.aflcOrderAddressWebDtoList[1].provinceCityArea=e.endLocation})},initSY:function(){var t=this.$route.query;this.cargoList=[n()({isget:!1},this.cargoInfo)],this.ruleForm.shipperId=this.otherinfo.id,this.ruleForm.memberType=this.otherinfo.rolesIdList[0],this.aflcOrderAddressWebDtoList[0].provinceCityArea=t.start,this.aflcOrderAddressWebDtoList[1].provinceCityArea=t.end,this.aflcOrderAddressWebDtoList[0].viaAddress=t.startstreet,this.aflcOrderAddressWebDtoList[1].viaAddress=t.endstreet,this.aflcOrderAddressWebDtoList[0].viaAddressCoordinate=t.startw+","+t.startj,this.aflcOrderAddressWebDtoList[1].viaAddressCoordinate=t.endw+","+t.endj,this.netQuery={endLatitude:t.endw,endLocation:t.end,endLongitude:t.endj,startLatitude:t.startw,startLocation:t.start,startLongitude:t.startj,startProvince:t.startp,startCity:t.startc,startArea:t.starta,endProvince:t.endp,endCity:t.endc,endArea:t.enda},this.getCompany()},initNew:function(){var t=this;this.cargoList=[n()({isget:!1},this.cargoInfo)],this.ruleForm.shipperId=this.otherinfo.id,this.ruleForm.memberType=this.otherinfo.rolesIdList[0];var e=this.aflcOrderAddressWebDtoList[0],s=this.aflcOrderAddressWebDtoList[1];u.f().then(function(i){i.data&&i.data.length?i.data.forEach(function(t){"0"===t.type&&(e.contacts=t.contacts,e.contactsPhone=t.contactsPhone),"1"===t.type&&(s.contacts=t.contacts,s.contactsPhone=t.contactsPhone)}):(e.contacts=t.otherinfo.contactsName,e.contactsPhone=t.otherinfo.mobile)}).catch(function(s){e.contacts=t.otherinfo.contactsName,e.contactsPhone=t.otherinfo.mobile})},initModify:function(){var t=this;this.isCargo?f.a(this.id).then(function(e){console.log("data:",e),e.lclOrderAddressList&&(t.aflcOrderAddressWebDtoList=t.aflcOrderAddressWebDtoList.map(function(t,s){var i=t.type;return t=e.lclOrderAddressList[s],t.type=i,1===s&&(t.isSave=1===e.isPreserveConsignee),0===s&&(t.isSave=1===e.isPreserveConsignor),t})),e.lclOrderGoodsList&&(t.cargoList=e.lclOrderGoodsList),t.ruleForm.orderClass=e.orderClass,t.ruleForm.id=t.id,t.isModify=!0}).catch(function(e){t.$confirm("查询出错："+o()(e),"提示",{confirmButtonText:"重新创建",cancelButtonText:"返回列表页",type:"warning"}).then(function(){t.initNew()}).catch(function(){t.goList()})}):f.c(this.id).then(function(e){e.aflcOrderAddressWebDtoList&&(t.aflcOrderAddressWebDtoList=t.aflcOrderAddressWebDtoList.map(function(t,s){var i=t.type;return t=e.aflcOrderAddressWebDtoList[s],t.type=i,t.isSave=!!t.isSave,t})),e.aflcFCLOrderGoodsDtoList&&(t.cargoList=e.aflcFCLOrderGoodsDtoList);for(var s in t.ruleForm)t.ruleForm[s]=e[s];t.ruleForm.id=e.id,t.isModify=!0}).catch(function(e){t.$confirm("查询出错："+o()(e),"提示",{confirmButtonText:"重新创建",cancelButtonText:"返回列表页",type:"warning"}).then(function(){t.initNew()}).catch(function(){t.goList()})})},initCargo:function(){var t=this;return Object(d.f)("AF034").then(function(e){t.cargoListPre=e.map(function(t){var e=t;return e.ischeck=!1,e})})},goList:function(){this.isCargo?this.eventBus.$emit("replaceCurrentView","/hyzx/cargoInfo/manage"):this.eventBus.$emit("replaceCurrentView","/hyzx/order/manage")},selectTag:function(t){t.ischeck=!t.ischeck},getInfo:function(t,e,s){console.log("map info: ",s);var i=s.addressComponent,o=i.province+""+i.city+i.district,r=i.township+i.street+i.streetNumber+i.building;if(this.cid){if(-1===o.indexOf(this.aflcOrderAddressWebDtoList[0].provinceCityArea)&&"strartAddress"===this.current)return this.$message.info("需要选择当前专线所在位置~"),!1;if(-1===o.indexOf(this.aflcOrderAddressWebDtoList[1].provinceCityArea)&&"endAddress"===this.current)return this.$message.info("需要选择当前专线所在位置~"),!1}switch(t=t.split(",").reverse().join(","),this.current){case"contactAddress":this.contactform.address=e,this.contactform.floorHousenum=e,this.contactform.coordinate=t,this.contactform.cityCode=i.adcode||"",this.contactform.provinceCityArea=o;case"strartAddress":this.aflcOrderAddressWebDtoList[0].provinceCityArea=o,this.aflcOrderAddressWebDtoList[0].viaAddress=r,this.aflcOrderAddressWebDtoList[0].viaAddressCoordinate=t,this.aflcOrderAddressWebDtoList[0].province=i.province,this.aflcOrderAddressWebDtoList[0].city=i.city,this.aflcOrderAddressWebDtoList[0].area=i.district,this.aflcOrderAddressWebDtoList[0].areaCode=i.adcode||"",this.aflcOrderAddressWebDtoList[0].longitude=s.longitude,this.aflcOrderAddressWebDtoList[0].latitude=s.latitude,this.isCargo||this.findNetList();break;case"endAddress":this.aflcOrderAddressWebDtoList[1].provinceCityArea=o,this.aflcOrderAddressWebDtoList[1].viaAddress=r,this.aflcOrderAddressWebDtoList[1].viaAddressCoordinate=t,this.aflcOrderAddressWebDtoList[1].province=i.province,this.aflcOrderAddressWebDtoList[1].city=i.city,this.aflcOrderAddressWebDtoList[1].area=i.district,this.aflcOrderAddressWebDtoList[1].areaCode=i.adcode||"",this.aflcOrderAddressWebDtoList[1].longitude=s.longitude,this.aflcOrderAddressWebDtoList[1].latitude=s.latitude,this.isCargo||this.findNetList()}},showMap:function(t){var e="",s="";switch(t){case"contactAddress":e=this.contactform.address||"",s=this.contactform.coordinate||"";break;case"strartAddress":e=(this.aflcOrderAddressWebDtoList[0].provinceCityArea||"")+(this.aflcOrderAddressWebDtoList[0].viaAddress||"")||"",s=this.aflcOrderAddressWebDtoList[0].viaAddressCoordinate||"";break;case"endAddress":e=(this.aflcOrderAddressWebDtoList[1].provinceCityArea||"")+(this.aflcOrderAddressWebDtoList[1].viaAddress||"")||"",s=this.aflcOrderAddressWebDtoList[1].viaAddressCoordinate||""}this.thename=e,this.thepos=s.split(",").reverse().join(","),this.popVisible=!0,this.current=t},resetCargo:function(){var t=this.cargoList.length;console.log(t,"indexindex")},removeCargo:function(t){this.cargoList.splice(t,1)},addCargo:function(t){this.cargoList.push(n()({isget:!1},this.cargoInfo))},setCargoName:function(t,e,s){this.$set(this.cargoList,t,n()(this.cargoList[t],{goodsName:e})),s.isget=!1},findLowestPrice:function(t,e){t=t||[];var s=t.filter(function(t){return t.type===e})[0];return s?s.discountPrice:0},findNetList:function(){var t=this.aflcOrderAddressWebDtoList,e=t[0].viaAddressCoordinate.split(","),s=t[1].viaAddressCoordinate.split(",");if(console.log("find data:",t[0].viaAddressCoordinate,t[1].viaAddressCoordinate,e,s),2===e.length&&2===s.length){var i={endLatitude:s[1],endLocation:t[1].provinceCityArea,endLongitude:s[0],startLatitude:e[1],startLocation:t[0].provinceCityArea,startLongitude:e[0],startProvince:t[0].province,startCity:t[0].city,startArea:t[0].area,endProvince:t[1].province,endCity:t[1].city,endArea:t[1].area};console.log("find data:",i),this.netQuery=i,this.cid||this.getCompany()}},calcTotalFee:function(t){var e=this;t&&void 0!==t.goodsName&&(t.isget=!1);var s=this.wlindex,i=this.cargoList.filter(function(t){return t.goodsName});if(this.ruleForm.wlId="",this.ruleForm.transportRangePublishId="",this.ruleForm.wlName="",this.ruleForm.forecastPrice=0,this.ruleForm.goodsType="",this.ruleForm.totalAmount=0,s){var o=0,r=this.usersArr.filter(function(t,e){return t.id===s&&(o=e,!0)});this.ruleForm.wlName=r[0]?r[0].publishName:"";var n=this.wlbestlist[o]||[];console.log("calcTotalFee:",s,i,n),this.ruleForm.startPointId=n[0]?n[0].id:"",this.ruleForm.endPointId=n[1]?n[1].id:"",this.ruleForm.transportRangePublishId=r[0]?r[0].companyId:""}if(i.length&&s){var a=i.reduce(function(t,e){return t+parseFloat(e.goodsWeight,10)},0),c=i.reduce(function(t,e){return t+parseFloat(e.goodsVolume,10)},0);i.reduce(function(t,e){return t+parseFloat(e.goodsNum,10)},0);a=a||0,c=c||0,(a>0||c>0)&&(this.ruleForm.wlId=s,u.g({transportRangeId:s,weight:a,volume:c}).then(function(t){var s=t.data;s?(e.ruleForm.forecastPrice=s.forecastPrice,e.ruleForm.goodsType=s.goodsType,e.ruleForm.totalAmount=s.forecastPrice):(e.ruleForm.forecastPrice="",e.ruleForm.goodsType="",e.ruleForm.totalAmount="")}).catch(function(t){e.ruleForm.forecastPrice="",e.ruleForm.goodsType="",e.ruleForm.totalAmount=""}))}},getCompany:function(t){var e=this;return!this.isCargo&&(t=t||{startLocation:this.netQuery.startLocation,endLocation:this.netQuery.endLocation,startProvince:this.netQuery.startProvince,startCity:this.netQuery.startCity,startArea:this.netQuery.startArea,endProvince:this.netQuery.endProvince,endCity:this.netQuery.endCity,endArea:this.netQuery.endArea},u.d({currentPage:1,pageSize:100,vo:t}).then(function(t){e.wlbestlistObj={},e.wlindex="",e.startSelectIndex="",e.endSelectIndex="",e.startSelect="",e.endSelect="",e.currentShowNetIndex=0,e.wlbestlist=[],e.usersArr=t.data.list||[],e.usersArr.length||e.$message.info("查不到相关专线~")}))},getNet:function(t,e){var s=this;console.log("getNet:",t,e,this.wlbestlistObj[e],this.netQuery),!this.wlbestlistObj[e]&&this.netQuery.startLongitude&&u.c(t,this.netQuery).then(function(t){s.$set(s.wlbestlist,e,t.data),s.wlbestlistObj[e]=!0})},getAllNet:function(t){var e=this;u.b(t,this.netQuery).then(function(t){e.startSelectIndex="",e.endSelectIndex="";var s=e.wlbestlist[e.currentShowNetIndex];e.popPointList.startPoints=t.data.startPoints.map(function(t){return t.ischecked=!1,t.id===s[0].id&&(e.startSelectIndex=s[0].id),t}),e.popPointList.endPoints=t.data.endPoints.map(function(t){return t.ischecked=!1,t.id===s[1].id&&(e.endSelectIndex=s[1].id),t})})},showSlectNet:function(t,e){this.showPopNet=!0,this.currentShowNetIndex=e,this.getAllNet(t)},selectNet:function(t,e){e?(this.startSelectIndex=t.id,this.startSelect=t.pointName):(this.endSelectIndex=t.id,this.endSelect=t.pointName)},submitNetForm:function(){var t=this,e=!0;this.popPointList.startPoints.length&&(this.startSelectIndex||(e=!1)),this.popPointList.endPoints.length&&(this.endSelectIndex||(e=!1)),e?(this.showPopNet=!1,this.startSelectIndex&&this.$set(this.wlbestlist[this.currentShowNetIndex],0,this.popPointList.startPoints.filter(function(e){return e.id===t.startSelectIndex})[0]),this.endSelectIndex&&this.$set(this.wlbestlist[this.currentShowNetIndex],1,this.popPointList.endPoints.filter(function(e){return e.id===t.endSelectIndex})[0])):this.$message.info("请选择一个网点~")},showContactPop:function(t){var e=this;this.currentType=t,u.e({currentPage:1,pageSize:100,type:t}).then(function(t){console.log("contact list:",t),e.contactPopVisible=!0,e.popContactList=t.list}).catch(function(){})},selectContact:function(t){var e=this.aflcOrderAddressWebDtoList[this.currentType];e.contacts=t.contacts,e.contactsPhone=t.contactsPhone,this.contactPopVisible=!1},showNewContactPop:function(){for(var t in this.contactform)this.contactform[t]="";delete this.contactform.id,this.dialogFormVisible=!0},showModifyContact:function(t){for(var e in this.contactform)this.contactform[e]=t[e];this.contactform.id=t.id,this.dialogFormVisible=!0},submitContactForm:function(){var t=this;this.contactform.shipperId=this.otherinfo.id,this.contactform.type=this.currentType;var e=void 0;e=this.contactform.id?u.j(this.contactform):u.h(this.contactform),e.then(function(e){t.$message.success("保存成功~"),t.dialogFormVisible=!1,t.showContactPop(t.currentType)}).catch(function(t){})},resetForm:function(t){this.aflcOrderAddressWebDtoList=this.$options.data().aflcOrderAddressWebDtoList,this.ruleForm=this.$options.data().ruleForm,this.cargoList=[],this.wlbestlist=[],this.wlbestlistObj={},this.usersArr=[],this.netQuery={},this.popPointList=this.$options.data().popPointList,this.contactform=this.$options.data().contactform,this.initNew()},submitForm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.loading=!0;var s=n()({},e.ruleForm);if(s.aflcOrderAddressWebDtoList=e.aflcOrderAddressWebDtoList,s.aflcFCLOrderGoodsDtoList=e.cargoList,""===s.aflcOrderAddressWebDtoList[0].provinceCityArea)return e.$message.error("请选择出发地~"),!1;if(""===s.aflcOrderAddressWebDtoList[1].provinceCityArea)return e.$message.error("请选择到达地~"),!1;if(s.aflcFCLOrderGoodsDtoList.filter(function(t){return t.goodsName&&(!t.goodsWeight||!t.goodsVolume)}).length>0)return e.$message.error("请填写有效的货物信息~"),!1;if(s.aflcFCLOrderGoodsDtoList=s.aflcFCLOrderGoodsDtoList.filter(function(t){return t.goodsName}),s.aflcFCLOrderGoodsDtoList.length<1)return e.$message.error("请至少填写一项货物信息"),!1;if(""===s.wlId&&!e.isCargo)return e.$message.error("需要选择物流公司~"),!1;if(""===s.aflcOrderAddressWebDtoList[0].contacts)return e.$message.error("请填写发货人~"),!1;if(""===s.aflcOrderAddressWebDtoList[0].contactsPhone)return e.$message.error("请填写发货人手机~"),!1;var i=void 0;if(e.isModify)i=u.k(e.otherinfo.userToken,s);else if(e.isCargo){var o={};o.lclOrderGoodsList=s.aflcFCLOrderGoodsDtoList,o.lclOrderAddressList=s.aflcOrderAddressWebDtoList,o.isPreserveConsignor=s.aflcOrderAddressWebDtoList[0].isSave?1:0,o.isPreserveConsignee=s.aflcOrderAddressWebDtoList[1].isSave?1:0,o.orderClass=s.orderClass,i=u.a(o)}else i=u.i(e.otherinfo.userToken,s);i.then(function(t){e.loading=!1,e.$alert("保存成功","提示",{confirmButtonText:"确定",callback:function(t){e.$emit("success"),e.goList()}})}).catch(function(t){e.$message.error(t.errorInfo||"提交失败，请尝试刷新页面重新提交~"),e.loading=!1})})}}}},"M/vH":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:{hideUploadBtn:t.filelist.length>=t.limit}},[t.uploadUrl?s("el-upload",{attrs:{drag:"",data:t.upload,action:t.uploadUrl,multiple:!1,"list-type":"picture-card","show-file-list":t.showFileList,"file-list":t.filelist,limit:t.limit,"before-upload":t.beforeUpload,"on-preview":t.handlePictureCardPreview,"on-error":t.handleError,"on-exceed":t.onexceed,"on-success":t.handleImageScucess,"on-remove":t.handleRemove}},[s("i",{staticClass:"el-icon-plus"})]):t._e(),t._v(" "),s("el-dialog",{attrs:{"lock-scroll":"","custom-class":"pop-show-img-wrapper",visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[s("img",{staticClass:"pop-show-img",attrs:{src:t.dialogImageUrl,alt:""}})])],1)},o=[],r={render:i,staticRenderFns:o};e.a=r},NJOu:function(t,e){},TuGF:function(t,e,s){"use strict";var i=s("Dd8w"),o=s.n(i),r=s("O6e2"),n=s("t5DY"),a=s("NYxO"),c=s("TuU3");e.a={name:"selectType",props:{orgid:{type:[Number,String],default:""},type:{type:String,default:"",required:!0},placeholder:{type:String,default:"请选择"},value:{type:[Number,String,Array]},remote:{type:Boolean,default:!1}},computed:o()({},Object(a.b)(["otherinfo"])),data:function(){return{val:"",types:[],dataCache:{}}},watch:{value:{handler:function(t){this.val=t||""},immediate:!0}},mounted:function(){var t=this;if(this.remote)this.fetchData();else{var e=c.a.get(this.type);""===e?this.fetchData():this.types=e}r.a.$on("closepopbox",function(){console.log("closepopbox selectType:"),t.$refs.myautocomplete.handleClose()})},methods:{fetchData:function(){var t=this,e=function(e){t.types=e,c.a.set(t.type,e)};this.dataCache[this.type]?e(this.dataCache[this.type]):Object(n.f)(this.type,this.orgid||this.otherinfo.companyId).then(e)},change:function(t){this.$emit("change",t),this.$emit("input",this.val)}}}},TuU3:function(t,e,s){"use strict";window.TMS_DATA_CACHE={};var i={get:function(t){return window.TMS_DATA_CACHE[t]||""},set:function(t,e){return window.TMS_DATA_CACHE[t]=e,e}};e.a=i},Zjyc:function(t,e,s){"use strict";function i(t){s("0SzW")}var o=s("aHTF"),r=s("M/vH"),n=s("VU/8"),a=i,c=n(o.a,r.a,a,null,null);e.a=c.exports},aHTF:function(t,e,s){"use strict";var i=s("//Fk"),o=s.n(i),r=s("t5DY"),n=s("0xDb");e.a={name:"singleImageUpload",props:{value:[String,Array],title:{type:String,default:""},tip:{type:String,default:"（jpg/png。小于5M）"},size:{type:String,default:"mini"},showFileList:{type:Boolean,default:!1},limit:{type:Number,default:10},listtype:{type:String,default:"picture",enum:["text","picture","picture-card"]},disabled:{type:Boolean,default:!1}},computed:{imageUrl:function(){return this.value}},data:function(){return{dialogImageUrl:"",dialogVisible:!1,tempUrl:"",dataObj:{token:"",key:""},upload:{key:"",policy:"",OSSAccessKeyId:"",success_action_status:"201",signature:""},uploadUrl:"",dir:"",filelist:[]}},watch:{value:{handler:function(t){if(this.showFileList){var e=Array.isArray(t)?t:t?t.split(","):[];e=e.filter(function(t){return t}),this.filelist=e.map(function(t){var e={};return e.url=t,e})}},immediate:!0}},mounted:function(){this.init()},methods:{init:function(){var t=this;Object(r.h)().then(function(e){t.upload.OSSAccessKeyId=e.accessid,t.upload.policy=e.policy,t.upload.signature=e.signature,t.uploadUrl=e.host,t.dir=e.dir,t.upload.key=e.dir+t.random_string()+type})},rmImage:function(){this.emitInput("")},onexceed:function(t,e){this.$message.error("最多上传 "+this.limit+" 张!")},handleRemove:function(t,e){console.log("handleRemove:",t,e),this.filelist=e,this.emitInput()},random_string:function(t){t=t||32;for(var e="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678",s=e.length,i="",o=0;o<t;o++)i+=e.charAt(Math.floor(Math.random()*s));return i},emitInput:function(t){t&&this.filelist.push({url:t}),this.$emit("input",this.showFileList?this.filelist.map(function(t){return t.url}).join(","):t)},handleImageScucess:function(t){var e="";-1!==t.indexOf("Location")&&(e=t.match(/<Location>([^<]+)<\/Location>/m),e=e?e[1]:""),this.emitInput(e)},handleError:function(t){this.$emit("error",t)},beforeUpload:function(t){var e=this,s=/image\/\w+/.test(t.type)&&/(jpe?g|png)/i.test(t.type),i=t.size/1024/1024<5,r=t.name.match(/([^\.]+)$/);return r=r?"."+r[1]:"",new o.a(function(t,o){s?i?(e.upload.key=e.dir+Object(n.e)(new Date,"{y}{m}{d}")+"/"+e.random_string()+r,t(!0)):(e.$message.error("上传头像图片大小不能超过 5MB!"),o(!1)):(e.$message.error("上传头像图片只能是 JPG/PNG 格式!"),o(!1))})},handlePictureCardPreview:function(t){this.dialogImageUrl=t.url,this.dialogVisible=!0}}}},b79V:function(t,e,s){"use strict";var i=s("0xDb");e.a={props:{pos:{type:[String,Array],default:""},name:{type:String,default:""},popVisible:{type:Boolean,default:!1}},watch:{popVisible:function(t){this.init()},name:function(){this.thename=this.name},pos:function(){this.thepos=this.pos}},mounted:function(){var t=this;window.loadedGaodeMap=function(){t.initMap(),t.hasLoadedMap=!0}},created:function(){},destoryed:function(){this.exit()},data:function(){return{noinfo:!0,dialogTableVisible:!1,thepos:"",thename:"",theobj:{}}},methods:{exit:function(){this.map&&this.map.destroy&&"function"==typeof this.map.destroy&&(this.map.destroy(),this.map={}),this.thepos="",this.thename="",this.theobj={},this.noinfo=!0},init:function(){this.dialogTableVisible=this.popVisible,console.log("this.popVisible:",this.popVisible),this.popVisible&&(this.thepos=this.pos,this.thename=this.name,this.loadMap())},loadMap:function(){var t=this;window.AMap?setTimeout(function(){t.initMap()},500):Object(i.c)("https://webapi.amap.com/maps?v=1.4.8&key=e61aa7ddc6349acdb3b57c062080f730&plugin=AMap.Autocomplete,AMap.PlaceSearch,AMap.Geocoder&callback=loadedGaodeMap").then(function(){})},close:function(t){this.exit(),this.$emit("update:popVisible",!1),"function"==typeof t&&t()},initMap:function(){function t(){u&&(u.setMap(null),u=null)}function e(e){console.log("2222",e),p.getAddress(e,function(i,o){"complete"===i&&"OK"===o.info?s(o,e):(t(),alert("获取不到当前位置的地址信息~"))})}function s(t,e){console.log("1111111111111",e);var s=!!e.lat;console.log("geocodeer:",t);var i=t.regeocode.formattedAddress;s&&(u=new r.Marker({map:n,position:e}),u.on("click",function(t){f.open(n,t.target.getPosition())}),u.emit("click",{target:u}),f.setContent(i)),o.setData(s?e.lng+","+e.lat:e,i,t.regeocode)}function i(t){console.log("select e:",t),l.setCity(t.poi.adcode),l.search(t.poi.name)}var o=this,r=window.AMap;window.AMapUI;o.map=new r.Map("mapcontainer",{resizeEnable:!0});var n=this.map,a={input:"tipinput"},c=new r.Autocomplete(a),l=new r.PlaceSearch({map:n,extensions:"base"}),d=this.name;d&&(this.$refs.tipinput.value=d.replace("市辖区",""),l.search(d));var u,f=new r.InfoWindow({offset:new r.Pixel(0,-30),content:""}),p=new r.Geocoder({radius:1e3}),h=new r.ContextMenu,m=[];h.addItem("添加标记",function(s){t(),l.clear(),f.close(),e(m)},3),n.on("rightclick",function(t){console.log("right click:",t);var e=t.lnglat;h.open(n,e),m=e}),n.on("click",function(t){console.log("e:",t)}),n.plugin(["AMap.ToolBar"],function(){n.addControl(new r.ToolBar)}),r.event.addListener(c,"select",i),r.event.addListener(l,"markerClick",function(t){e(t.data.location)})},setData:function(t,e,s){this.thepos=t,this.thename=e,this.theobj=s,this.noinfo=!1,console.log(s)},submitForm:function(){var t=this.thepos.split(",");this.theobj.latitude=t[0],this.theobj.longitude=t[1],this.$emit("success",this.thepos,this.thename,this.theobj),this.close()}}}},"d/hC":function(t,e,s){"use strict";function i(t,e){return h.b.post("/aflcorderservice/order/fclOrder/v1/createOrder",e)}function o(t,e){return h.b.put("/aflcorderservice/order/fclOrder/v1/updateOrder",e)}function r(t){return h.b.post("/28-web/aflcShipperContacts/add",t)}function n(t){return h.b.post("/28-web/aflcShipperContacts/list",t).then(function(t){return t.data||{list:[],totalCount:0}})}function a(){return h.b.get("/28-web/aflcShipperContacts/default/list")}function c(t){return h.b.put("/28-web/aflcShipperContacts/update",t)}function l(t){return h.b.get("/aflcorderservice/order/fclOrder/v1/getEstimateTotalPieces",{params:t})}function d(t,e){return h.b.post("/aflc-uc/usercenter/aflcPointNetwork/v1/listPointByCompanyId/"+t,e)}function u(t,e){return h.b.post("/aflc-uc/usercenter/aflcPointNetwork/v1/listCompanyPointByCompanyId/"+t,e)}function f(t){return h.b.post("/aflc-uc/usercenter/aflcTransportRange/v1/findRangesWithCreateOrder",t)}function p(t){return h.b.post("/28-web/lclOrder/create",t)}e.i=i,e.k=o,e.h=r,e.e=n,e.f=a,e.j=c,e.g=l,e.c=d,e.b=u,e.d=f,e.a=p;var h=s("Vo7i")},ixLZ:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"create-orderinfo identification page-main"},[s("div",{staticClass:"carrierTitle"},[s("div",{staticClass:"realname"},[s("h2",[t._v(t._s(t.title))])]),t._v(" "),t._m(0)]),t._v(" "),s("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.rules,size:"mini","label-width":"150px"}},[s("div",{staticClass:"order-base-info tab-info-panel clearfix"},[s("div",{staticClass:"tab-info-stitle"},[s("strong",[t._v("线路信息")])]),t._v(" "),s("el-form-item",{attrs:{required:"",rules:[{required:!0,validator:t.validateIsEmpty(t.aflcOrderAddressWebDtoList[0].provinceCityArea),message:"请选择出发地"}],label:"出发地："}},[s("el-input",{on:{focus:function(){t.showMap("strartAddress")}},model:{value:t.aflcOrderAddressWebDtoList[0].provinceCityArea,callback:function(e){t.$set(t.aflcOrderAddressWebDtoList[0],"provinceCityArea",e)},expression:"aflcOrderAddressWebDtoList[0].provinceCityArea"}})],1),t._v(" "),s("el-form-item",{attrs:{required:"",label:"街道/门牌号："}},[s("el-input",{on:{focus:function(){t.showMap("strartAddress")}},model:{value:t.aflcOrderAddressWebDtoList[0].viaAddress,callback:function(e){t.$set(t.aflcOrderAddressWebDtoList[0],"viaAddress",e)},expression:"aflcOrderAddressWebDtoList[0].viaAddress"}})],1),t._v(" "),s("el-form-item",{attrs:{required:"",label:"到达地："}},[s("el-input",{on:{focus:function(){t.showMap("endAddress")}},model:{value:t.aflcOrderAddressWebDtoList[1].provinceCityArea,callback:function(e){t.$set(t.aflcOrderAddressWebDtoList[1],"provinceCityArea",e)},expression:"aflcOrderAddressWebDtoList[1].provinceCityArea"}})],1),t._v(" "),s("el-form-item",{attrs:{required:"",label:"街道/门牌号："}},[s("el-input",{on:{focus:function(){t.showMap("endAddress")}},model:{value:t.aflcOrderAddressWebDtoList[1].viaAddress,callback:function(e){t.$set(t.aflcOrderAddressWebDtoList[1],"viaAddress",e)},expression:"aflcOrderAddressWebDtoList[1].viaAddress"}})],1)],1),t._v(" "),s("div",{staticClass:"cargo-info tab-info-panel"},[s("div",{staticClass:"tab-info-stitle"},[s("strong",[t._v("货物信息")])]),t._v(" "),s("ul",{staticClass:"clearfix"},t._l(t.cargoList,function(e,i){return s("li",{key:i},[s("el-form-item",{attrs:{required:"",label:"货物名称："}},[s("el-popover",{attrs:{"visible-arrow":!1,placement:"bottom",width:"400",trigger:"manual"},model:{value:e.isget,callback:function(s){t.$set(e,"isget",s)},expression:"item.isget"}},[s("ul",{staticClass:"preCaogoList clearfix"},t._l(t.cargoListPre,function(e,o){return s("li",{key:o,on:{click:function(s){t.setCargoName(i,e.name,e)}}},[t._v(t._s(e.name))])})),t._v(" "),s("el-input",{attrs:{slot:"reference",maxlength:50},on:{focus:function(t){e.isget=!0},blur:function(s){t.calcTotalFee(e)}},slot:"reference",model:{value:e.goodsName,callback:function(s){t.$set(e,"goodsName",s)},expression:"item.goodsName"}})],1)],1),t._v(" "),s("el-form-item",{attrs:{label:"总件数："}},[s("div",{staticClass:"el-input-group"},[s("input",{directives:[{name:"numberOnly",rawName:"v-numberOnly"}],staticClass:"nativeinput",attrs:{maxlength:7,placeholder:"","auto-complete":"off",clearable:"",type:"text"},domProps:{value:e.goodsNum},on:{blur:function(){t.detectGoodsNum(e)},change:function(s){t.setInputVal(s.target.value,e,"goodsNum")}}}),t._v(" "),s("div",{staticClass:"el-input-group__append"},[t._v("件")])])]),t._v(" "),s("el-form-item",{attrs:{required:"",label:"预估重量："}},[s("div",{staticClass:"el-input-group"},[s("input",{directives:[{name:"numberOnly",rawName:"v-numberOnly:point1",arg:"point1"}],staticClass:"nativeinput",attrs:{maxlength:7,placeholder:"","auto-complete":"off",clearable:"",type:"text"},domProps:{value:e.goodsWeight},on:{blur:t.calcTotalFee,change:function(s){t.setInputVal(s.target.value,e,"goodsWeight")}}}),t._v(" "),s("div",{staticClass:"el-input-group__append"},[t._v("公斤")])])]),t._v(" "),s("el-form-item",{attrs:{required:"",label:"预估体积："}},[s("div",{staticClass:"el-input-group"},[s("input",{directives:[{name:"numberOnly",rawName:"v-numberOnly:point1",arg:"point1"}],staticClass:"nativeinput",attrs:{maxlength:7,placeholder:"","auto-complete":"off",clearable:"",type:"text"},domProps:{value:e.goodsVolume},on:{blur:t.calcTotalFee,change:function(s){t.setInputVal(s.target.value,e,"goodsVolume")}}}),t._v(" "),s("div",{staticClass:"el-input-group__append"},[t._v("立方米")])])]),t._v(" "),s("el-form-item",{staticClass:"cargo-button"},[i===t.cargoList.length-1?s("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.resetCargo}},[t._v("重置")]):t._e(),t._v(" "),i===t.cargoList.length-1&&t.cargoList.length<t.maxCargoLength?s("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){t.addCargo(i)}}},[t._v("＋")]):t._e(),t._v(" "),i>0?s("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(e){t.removeCargo(i)}}},[t._v("-")]):t._e()],1)],1)}))]),t._v(" "),t.isCargo?t._e():s("div",{staticClass:"select-line tab-info-panel"},[s("div",{staticClass:"tab-info-stitle"},[s("strong",[t._v("选择物流公司：")]),t._v("（"),s("span",{staticClass:"important"},[t._v("选择出发地跟到达地之后，为您精准匹配物流承运商")]),t._v("）")]),t._v(" "),s("div",{staticClass:"select-line-list"},[s("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.usersArr,stripe:"",border:"","tooltip-effect":"dark","default-sort":{prop:"id",order:"ascending"}}},[s("el-table-column",{staticClass:"select-line-1-clumn",attrs:{label:"承运商"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-popover",{attrs:{"visible-arrow":!1,placement:"bottom","popper-class":"wlname-info-pop",width:"300",trigger:"hover"},on:{show:function(s){t.getNet(e.row.companyId,e.$index)}}},[s("div",{staticClass:"wlname-info"},[s("div",{staticClass:"wlname-title"},[t._v("最佳网点")]),t._v(" "),s("ul",t._l(t.wlbestlist[e.$index],function(e,i){return s("li",{key:i},[s("span",{staticClass:"wlnamev"},[t._v(t._s(0===i?"出发地":"目的地")+"网点："),s("span",[t._v(t._s(e.pointName))])]),s("span",{staticClass:"wlnameh"},[t._v("距"+t._s(0===i?"发":"收")+"货地："),s("span",[t._v(t._s(e.distance)+"km")])]),t._v(" "),s("p",[t._v(t._s(e.address))]),t._v(" "),s("p",[t._v("联系人："+t._s(e.name))]),t._v(" "),s("p",[t._v("联系电话："+t._s(e.telNum))])])})),t._v(" "),s("div",{staticClass:"select-other-net",on:{click:function(s){t.showSlectNet(e.row.companyId,e.$index)}}},[t._v("重新选择网点")])]),t._v(" "),s("span",{staticClass:"wlname",attrs:{slot:"reference"},slot:"reference"},[s("el-radio",{attrs:{label:e.row.id},model:{value:t.wlindex,callback:function(e){t.wlindex=e},expression:"wlindex"}},[t._v(t._s(e.row.publishName))])],1)])]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"lowerPrice",width:"120",label:"起步价"}}),t._v(" "),s("el-table-column",{attrs:{prop:"carTypeName",width:"200",label:"重货"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",{staticClass:"important"},[t._v(t._s(t.findLowestPrice(e.row.rangePrices,"1")))]),t._v("元/公斤\n              "),s("el-popover",{attrs:{"visible-arrow":!1,placement:"bottom","popper-class":"showjieti-info-pop",width:"300",trigger:"hover"}},[s("div",{staticClass:"showjieti-info"},[s("div",{staticClass:"jieti-title"},[t._v("最低一票价格："+t._s(e.row.lowerPrice)+"元")]),t._v(" "),s("ul",t._l(e.row.rangePrices,function(e,i){return"1"===e.type?s("li",{key:i},[s("span",{staticClass:"jietiv"},[t._v(t._s(e.startVolume)+"公斤"+t._s(e.endVolume?"~"+e.endVolume+"公斤":"以上"))]),t._v(" "),s("span",{staticClass:"jietih"},[t._v(t._s(e.primeryPrice)+"元/公斤")]),t._v(" "),s("span",{staticClass:"jietid"},[t._v("折后价"+t._s(e.discountPrice)+"元/公斤")])]):t._e()}))]),t._v(" "),s("span",{staticClass:"showjieti",attrs:{slot:"reference"},slot:"reference"},[t._v("阶梯价格")])])]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"carSourceTypeName",width:"200",label:"轻货"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",{staticClass:"important"},[t._v(t._s(t.findLowestPrice(e.row.rangePrices,"0")))]),t._v("元/立方 "),s("el-popover",{attrs:{placement:"bottom","visible-arrow":!1,"popper-class":"showjieti-info-pop",width:"300",trigger:"hover"}},[s("div",{staticClass:"showjieti-info"},[s("div",{staticClass:"jieti-title"},[t._v("最低一票价格："+t._s(e.row.lowerPrice)+"元")]),t._v(" "),s("ul",t._l(e.row.rangePrices,function(e,i){return"0"===e.type?s("li",{key:i},[s("span",{staticClass:"jietiv"},[t._v(t._s(e.startVolume)+"立方"+t._s(e.endVolume?"~"+e.endVolume+"立方":"以上"))]),t._v(" "),s("span",{staticClass:"jietih"},[t._v(t._s(e.primeryPrice)+"元/立方")]),t._v(" "),s("span",{staticClass:"jietid"},[t._v("折后价"+t._s(e.discountPrice)+"元/立方")])]):t._e()}))]),t._v(" "),s("span",{staticClass:"showjieti",attrs:{slot:"reference"},slot:"reference"},[t._v("阶梯价格")])])]}}])}),t._v(" "),s("el-table-column",{attrs:{label:"时效"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",{staticClass:"important"},[t._v(t._s(e.row.transportAging))]),t._v(t._s(e.row.transportAgingUnit)+"达\n            ")]}}])}),t._v(" "),s("el-table-column",{attrs:{width:"120",label:"发车频率"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",{staticClass:"important"},[t._v(t._s(e.row.departureHzData)+"天"+t._s(e.row.departureHzTime)+"次")])]}}])})],1)],1),t._v(" "),s("div",{staticClass:"prePrice"},[t._v("\n        预估运费总金额："+t._s(t.theTotalPrice)+"\n      ")])]),t._v(" "),t.isCargo?s("div",{staticClass:"cargo-class tab-info-panel"},[s("h3",[t._v("货源类型")]),t._v(" "),s("el-form-item",[s("el-radio-group",{model:{value:t.ruleForm.orderClass,callback:function(e){t.$set(t.ruleForm,"orderClass",e)},expression:"ruleForm.orderClass"}},[s("el-radio",{attrs:{label:"AF0490701"}},[t._v("单次急发货源")]),t._v(" "),s("el-radio",{attrs:{label:"AF0490702"}},[t._v("长期稳定货源")])],1)],1)],1):t._e(),t._v(" "),s("div",{staticClass:"select-contact tab-info-panel"},[s("h3",[t._v("联系方式")]),t._v(" "),s("ul",{staticClass:"concat-list clearfix"},[s("li",[s("el-form-item",{attrs:{required:"",label:"发货人："}},[s("el-input",{model:{value:t.aflcOrderAddressWebDtoList[0].contacts,callback:function(e){t.$set(t.aflcOrderAddressWebDtoList[0],"contacts",e)},expression:"aflcOrderAddressWebDtoList[0].contacts"}})],1),t._v(" "),s("el-form-item",{attrs:{required:"",label:"发货人手机"}},[s("el-input",{directives:[{name:"number-only",rawName:"v-number-only"}],attrs:{maxlength:11},model:{value:t.aflcOrderAddressWebDtoList[0].contactsPhone,callback:function(e){t.$set(t.aflcOrderAddressWebDtoList[0],"contactsPhone",e)},expression:"aflcOrderAddressWebDtoList[0].contactsPhone"}})],1),t._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:function(e){t.showContactPop(0)}}},[t._v("选择常用发货人")]),t._v(" "),s("el-checkbox",{model:{value:t.aflcOrderAddressWebDtoList[0].isSave,callback:function(e){t.$set(t.aflcOrderAddressWebDtoList[0],"isSave",e)},expression:"aflcOrderAddressWebDtoList[0].isSave"}},[t._v("保存到常用发货人")])],1)],1),t._v(" "),s("li",[s("el-form-item",{attrs:{label:"收货人："}},[s("el-input",{model:{value:t.aflcOrderAddressWebDtoList[1].contacts,callback:function(e){t.$set(t.aflcOrderAddressWebDtoList[1],"contacts",e)},expression:"aflcOrderAddressWebDtoList[1].contacts"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"收货人手机"}},[s("el-input",{directives:[{name:"number-only",rawName:"v-number-only"}],attrs:{maxlength:11},model:{value:t.aflcOrderAddressWebDtoList[1].contactsPhone,callback:function(e){t.$set(t.aflcOrderAddressWebDtoList[1],"contactsPhone",e)},expression:"aflcOrderAddressWebDtoList[1].contactsPhone"}})],1),t._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:function(e){t.showContactPop(1)}}},[t._v("选择常用收货人")]),t._v(" "),s("el-checkbox",{model:{value:t.aflcOrderAddressWebDtoList[1].isSave,callback:function(e){t.$set(t.aflcOrderAddressWebDtoList[1],"isSave",e)},expression:"aflcOrderAddressWebDtoList[1].isSave"}},[t._v("保存到常用收货人")])],1)],1)])]),t._v(" "),s("el-form-item",[s("div",{staticClass:"tab-create-btn",staticStyle:{width:"30%"}},[s("el-button",{attrs:{size:"middle",type:"info"},on:{click:function(e){t.resetForm("ruleForm")}}},[t._v("重置")]),t._v(" "),s("el-button",{attrs:{size:"middle",type:"primary"},on:{click:function(e){t.submitForm("ruleForm")}}},[t._v("立即发布")])],1)])],1),t._v(" "),s("tmsmap",{attrs:{pos:t.thepos,name:t.thename,popVisible:t.popVisible},on:{success:t.getInfo,"update:popVisible":function(e){t.popVisible=e}}}),t._v(" "),s("el-dialog",{attrs:{title:t.contactTitle,"custom-class":"ususalContactList",visible:t.contactPopVisible},on:{"update:visible":function(e){t.contactPopVisible=e}}},[s("el-input",{staticClass:"search-input",attrs:{placeholder:"请输入姓名、手机号或地址搜索",size:"small","auto-complete":"off"},model:{value:t.popContactListSearch,callback:function(e){t.popContactListSearch=e},expression:"popContactListSearch"}},[s("el-button",{attrs:{slot:"append",size:"small"},slot:"append"},[t._v("搜索")])],1),t._v(" "),s("el-button",{staticClass:"addNewContact",attrs:{size:"mini"},on:{click:t.showNewContactPop}},[t._v("添加"+t._s(t.contactTitle))]),t._v(" "),s("ul",{staticClass:"contactPopList"},t._l(t.searchPopContactList,function(e,i){return s("li",{key:i,staticClass:"clearfix",on:{click:function(s){t.selectContact(e)}}},[s("span",{staticClass:"contactName"},[t._v(t._s(e.contacts))]),t._v(" "),s("span",{staticClass:"contactMobile"},[t._v(t._s(e.contactsPhone))]),t._v(" "),s("span",{staticClass:"contactAddres"},[t._v(t._s(e.address))]),t._v(" "),s("span",{staticClass:"contactManage",on:{click:function(s){s.preventDefault(),s.stopPropagation(),t.showModifyContact(e)}}},[t._v("修改")])])}))],1),t._v(" "),s("el-dialog",{attrs:{title:t.popContactTitle+t.contactTitle,"custom-class":"ususalContactList ususalContacModify",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[s("el-form",{attrs:{size:"mini","label-width":"70px",model:t.contactform}},[s("el-form-item",{attrs:{label:"姓名："}},[s("el-input",{attrs:{"auto-complete":"off"},model:{value:t.contactform.contacts,callback:function(e){t.$set(t.contactform,"contacts",e)},expression:"contactform.contacts"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"电话："}},[s("el-input",{attrs:{"auto-complete":"off"},model:{value:t.contactform.contactsPhone,callback:function(e){t.$set(t.contactform,"contactsPhone",e)},expression:"contactform.contactsPhone"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"地址："}},[s("el-input",{attrs:{"auto-complete":"off"},on:{focus:function(){t.showMap("contactAddress")}},model:{value:t.contactform.address,callback:function(e){t.$set(t.contactform,"address",e)},expression:"contactform.address"}})],1),t._v(" "),s("el-form-item",[s("el-checkbox",{attrs:{"true-label":"1","false-label":"0"},model:{value:t.contactform.isDefault,callback:function(e){t.$set(t.contactform,"isDefault",e)},expression:"contactform.isDefault"}},[t._v("\n          设置为默认地址\n        ")])],1)],1),t._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:t.submitContactForm}},[t._v("保 存")])],1)],1),t._v(" "),s("el-dialog",{attrs:{title:"网点选择","custom-class":"ususalContactList netListContent",visible:t.showPopNet},on:{"update:visible":function(e){t.showPopNet=e}}},[s("div",{staticClass:"popnet-title"},[t._v("请选择距您最近的出发地和到达地网点：")]),t._v(" "),s("div",{staticClass:"selectNetListPanel clearfix"},[s("ul",{staticClass:"netPopChoiceList"},[s("li",{staticClass:"start-net-icon"},[s("span",{staticClass:"start-icon"}),t._v("出发地:"+t._s(t.startSelect))]),t._v(" "),t._l(t.popPointList.startPoints,function(e,i){return s("li",{key:i,staticClass:"clearfix",on:{click:function(s){t.selectNet(e,!0)}}},[s("span",{staticClass:"wlListName"},[s("el-radio",{attrs:{label:e.id},nativeOn:{click:function(s){t.startSelect=e.pointName}},model:{value:t.startSelectIndex,callback:function(e){t.startSelectIndex=e},expression:"startSelectIndex"}},[t._v(t._s(e.pointName))])],1),s("span",{staticClass:"wlListMobile"},[t._v("距离："+t._s(e.distance)+"km")]),t._v(" "),s("span",{staticClass:"wlListAddres"},[t._v(t._s(e.address))])])})],2),t._v(" "),s("ul",{staticClass:"netPopChoiceList"},[s("li",{staticClass:"end-net-icon"},[s("span",{staticClass:"end-icon"}),t._v("目的地:"+t._s(t.endSelect))]),t._v(" "),t._l(t.popPointList.endPoints,function(e,i){return s("li",{key:i,staticClass:"clearfix",on:{click:function(s){t.selectNet(e)}}},[s("span",{staticClass:"wlListName"},[s("el-radio",{attrs:{label:e.id},nativeOn:{click:function(s){t.endSelect=e.pointName}},model:{value:t.endSelectIndex,callback:function(e){t.endSelectIndex=e},expression:"endSelectIndex"}},[t._v(t._s(e.pointName))])],1),s("span",{staticClass:"wlListMobile"},[t._v("距离："+t._s(e.distance)+"km")]),t._v(" "),s("span",{staticClass:"wlListAddres"},[t._v(t._s(e.address))])])})],2)]),t._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.showPopNet=!1}}},[t._v("取 消")]),t._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:t.submitNetForm}},[t._v("确 定")])],1)])],1)},o=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"prompt"},[s("p",[s("span",{staticClass:"tishi"},[s("i",{staticClass:"el-icon-warning"}),t._v("小提示： ")]),t._v("(打"),s("span",{staticClass:"star"},[t._v("*")]),t._v("号为必填项)")])])}],r={render:i,staticRenderFns:o};e.a=r},t5DY:function(t,e,s){"use strict";function i(t){return t=t||"",h.b.get("/aflc-common/common/aflcCommonPCA/v1/findAflcCommonPCAByCode?code="+t).then(function(e){return e.code=t,e})}function o(){return v?new p.a(function(t){t(v)}):h.b.get("/anfacommonservice/common/oss/v1/policy").then(function(t){return v=t.data||"",setTimeout(function(){v=""},18e4),v})}function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return h.b.get("/28-web/sysDict/getSysDictByCodeGet/"+t).then(function(t){return t.data||[]})}function n(t){return h.b.axios({url:"/28-web/sysDict/getSysDictByCodeGet/"+t,method:"get"})}function a(t){return h.b.axios({url:"/aflc-common/common/aflcMemberCenter/v1/getShipperInfoByMobile?mobile="+t,method:"get"})}function c(t){return h.b.axios({url:"/aflc-common/common/aflcMemberCenter/v1/getDriverInfoByMobile?mobile="+t,method:"get"})}function l(t){return h.b.axios({url:"/"+m+"/common/aflcMemberCenter/v1/getLogisticsCompanyInfoByMobile?mobile="+t,method:"get"})}function d(t){return h.b.axios({url:"/aflcorderservice/order/fclOrder/v1/getDetailsByOrderSerial/"+t,method:"get"})}function u(t,e){var s=new FormData;for(var i in e)s.append(i,e[i]);var o="";for(var r in e)o+="&"+r+"="+e[r];return h.b.request({url:"/aflc-common/common/aflcMemberCenter/v1/updatePassword?memberType="+t,method:"put",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:o})}e.a=i,e.h=o,e.f=r,e.c=n,e.g=a,e.d=c,e.e=l,e.b=d,e.i=u;var f=s("//Fk"),p=s.n(f),h=s("Vo7i"),m="aflc-common",v=void 0},uTvr:function(t,e,s){"use strict";function i(t){s("NJOu")}Object.defineProperty(e,"__esModule",{value:!0});var o=s("HNSu"),r=s("ixLZ"),n=s("VU/8"),a=i,c=n(o.a,r.a,a,null,null);e.default=c.exports}});