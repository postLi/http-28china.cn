webpackJsonp([24,54],{"09dA":function(e,t,n){"use strict";var a=n("1jhZ"),s=n("GHq+"),i=n("1onU");t.a={components:{SearchForm:s.default,Pager:i.a},computed:{},mounted:function(){var e=this;this.searchQuery.vo.orgid=this.otherinfo.orgid,this.fetchAllCustomer(this.otherinfo.orgid).then(function(t){e.loading=!1})},data:function(){return{btnsize:"mini",usersArr:[],total:0,loading:!0,setupTableVisible:!1,AddCustomerVisible:!1,isModify:!1,selectInfo:{},selected:[],sizes:[20,50,100],searchQuery:{currentPage:1,pageSize:20,vo:{endAddress:"",strartAddress:""}}}},methods:{createNew:function(){window.open("/hyzx/create/cheyuan")},fetchAllCustomer:function(){var e=this;return this.loading=!0,a.c(this.searchQuery).then(function(t){e.usersArr=t.list,e.total=t.totalCount,e.loading=!1})},fetchData:function(){this.fetchAllCustomer()},handlePageChange:function(e){this.searchQuery.currentPage=e.pageNum,this.searchQuery.pageSize=e.pageSize,this.fetchAllCustomer()},getSearchParam:function(e){this.searchQuery.currentPage=1,this.searchQuery.vo=e,this.fetchAllCustomer()},setRemote:function(e,t){var n=this;return a.j(e,t).then(function(e){n.$message.success(e.text?e.text:e.errInfo),n.fetchData()})},enableItem:function(e,t){var n=this;return a.i(e,t).then(function(e){n.$message.success(e.text?e.text:e.errInfo),n.fetchData()})},enableBtn:function(e){var t=void 0;"0"===e.isEnable?(t=1,this.enableItem(e.id,t)):(t=0,this.enableItem(e.id,t))},setRunBtn:function(e){var t=void 0;"0"===e.isCommonRoute?(t="1",this.setRemote(e.id,t)):(t="0",this.setRemote(e.id,t))},deleteItem:function(e){var t=this;this.$confirm("确定要删除吗？","提示",{confirmButtonText:"删除",cancelButtonText:"取消",type:"warning"}).then(function(){a.a(e).then(function(e){t.$message({type:"success",message:"删除成功!"}),t.fetchData()})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},changeItem:function(e){this.$router.push("/hyzx/create/cheyuan?id="+e)},clickDetails:function(e,t,n){this.$refs.multipleTable.toggleRowSelection(e)},getSelection:function(e){this.selected=e}}}},"13md":function(e,t){},"1jhZ":function(e,t,n){"use strict";function a(e){return f.b.post("/28-web/carInfo/"+e)}function s(e){return f.b.post("/28-web/driver/completeCarInfo",e)}function i(e){return f.b.post("/28-web/carInfo/home/createCar",e)}function r(e){return f.b.delete("/28-web/carInfo/usercenter/delCarInfo/"+e)}function o(e){return f.b.post("/aflc-uc/usercenter/aflcCarInfo/v1/list",e).then(function(e){return e.data||{list:[],totalCount:0}})}function c(){return f.b.post("/aflcusercenterservice/usercenter/aflcDriver/v1/getCarInfo")}function u(e){return f.b.put("/28-web/carInfo/usercenter/updateCarInfo",e)}function l(e,t){return f.b.put("/aflc-uc/usercenter/aflcCarInfo/v1/setEnableType/"+e+"/"+t)}function d(e,t){return f.b.put("/aflc-uc/usercenter/aflcCarInfo/v1/setRouteType/"+e+"/"+t)}function h(e){return f.b.post("/28-web/driver/usercenter/improveflcDriver",e)}t.b=a,t.f=s,t.e=i,t.a=r,t.c=o,t.g=c,t.h=u,t.i=l,t.j=d,t.d=h;var f=n("Vo7i")},"1onU":function(e,t,n){"use strict";function a(e){n("Q66M"),n("rwP/")}var s=n("VT+v"),i=n("1pBW"),r=n("VU/8"),o=a,c=r(s.a,i.a,o,"data-v-6902e15e",null);t.a=c.exports},"1pBW":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tms-pagenation"},[n("span",{staticClass:"page-num",class:{disabled:e.pageNum<=1},on:{click:function(t){e.jumpTo(1)}}},[n("span",{staticClass:"first-page"})]),n("span",{staticClass:"page-num",class:{disabled:e.pageNum<=1},on:{click:function(t){e.jumpTo(e.pageNum-1)}}},[n("span",{staticClass:"prev-page"})]),e._v(" "),n("span",{staticClass:"page-jumper"},[e._v("\n    第\n    "),n("el-input",{ref:"input",staticClass:"el-pagination__editor is-in-pagination",attrs:{min:1,max:e.pages,type:"number",disabled:e.pages<=1},on:{keyup:e.handleKeyup,change:e.handleChange,focus:e.handleFocus,blur:e.handleBlur},model:{value:e.inputval,callback:function(t){e.inputval="string"==typeof t?t.trim():t},expression:"inputval"}}),e._v(" 页\n  ")],1),e._v("\n  /共 "+e._s(e.pages)+" 页\n  "),n("span",{staticClass:"page-num",class:{disabled:e.pageNum===e.pages},on:{click:function(t){e.jumpTo(e.pageNum+1)}}},[n("span",{staticClass:"next-page"})]),e._v(" "),n("span",{staticClass:"page-num",class:{disabled:e.pageNum===e.pages},on:{click:function(t){e.jumpTo(e.pages)}}},[n("span",{staticClass:"last-page"})]),e._v(" "),n("span",{staticClass:"tms-pagination__sizes"},[n("el-select",{staticClass:"page-select",attrs:{placeholder:"请选择"},on:{change:e.sizeChange},model:{value:e.size,callback:function(t){e.size=t},expression:"size"}},e._l(e.sizes,function(t,a){return n("el-option",{key:a,attrs:{label:t,disabled:e.pages<=1,value:t}})}))],1)])},s=[],i={render:a,staticRenderFns:s};t.a=i},E4LH:function(e,t,n){"use strict";function a(e){return/^([0-9a-zA-Z]|[\u0391-\uFFE5]){2,}$/.test(e.trim())}t.b=a,n.d(t,"a",function(){return s});var s={USERNAME:/^([0-9a-zA-Z]|[\u0391-\uFFE5]){2,}$/,ONLY_CHINESE:/^[\u4E00-\u9FA5]+$/,CHINESE_AND_ENGLISH:/^[\u4E00-\u9FA5a-zA-Z]+$/,MOBILE:/^[1][3-8]\d{9}$/,ID_CARD:/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/,ENGLISH_AND_NUMBER:/^[a-zA-Z0-9]+$/,SPECIAL_CHARACTER:/([^0-9a-zA-Z\u4E00-\u9FA5])+/,FLOAT2ING:/^\d+(\.\d{0,2})?$/,EMAIL:/^[\w!#$%&\'*+\/=?^_`{|}~-]+(?:\.[\w!#$%&\'*+\/=?^_`{|}~-]+)*@(?:[\w](?:[\w-]*[\w])?\.)+[\w](?:[\w-]*[\w])?$/,NO_NUMBER:/[\D|\.]/,ONLY_NUMBER:/^[0-9]+$/,ONLY_LETTER:/^[a-zA-Z]+$/,ONLY_PUNCTUATION:/^[~\!@#\$%\^\&\*\(\)_\+\{\}\|\:\"<>\?`\-\=\[\]\\;\',\.\/]+$/,ONLY_NUMBER_AND_LETTER:/^[0-9a-zA-Z]+$/,PWD_NUMBER_AND_LETTER:/^[0-9a-zA-Z_#]{6,32}$/,ONLY_LETTER_AND_PUNCTUATION:/^[a-zA-Z~\!@#\$%\^\&\*\(\)_\+\{\}\|\:\"<>\?`\-\=\[\]\\;\',\.\/]+$/,ONLY_NUMBER_AND_PUNCTUATION:/^[0-9~\!@#\$%\^\&\*\(\)_\+\{\}\|\:\"<>\?`\-\=\[\]\\;\',\.\/]+$/,LETTER_AND_NUMBER_AND_PUNCTUATION:/^[a-zA-Z0-9~\!@#\$%\^\&\*\(\)_\+\{\}\|\:\"<>\?`\-\=\[\]\\;\',\.\/]+$/,ONLY_NUMBER_GT:/^[1-9]\d*$/,KONGE:/^[^ ]{6,16}$/,ONLY_ENGLISH_NUMBER:/^[A-Za-z0-9_]+$/,TELEPHONE:/(^\d{3}-\d{8}$)|(^\d{4}-\d{7,8}$)/,ZIPCODE:/^[1-9]\d{5}(?!\d)$/,NUM_POINT:/^(([1-9][0-9])|(([0].\d{0,2}|[1-9][0-9].\d{0,2})))$/,NUM_PERCENTAGE:/^([1-9]{1}[0-9]{0,1}|0|100)(.\d{1,2}){0,1}%$/,strlen:function(e){for(var t=0,n=0;n<e.length;n++)e.charAt(n).match(/[\u0391-\uFFE5]/)?t+=2:t++;return t}}},"GHq+":function(e,t,n){"use strict";function a(e){n("13md")}Object.defineProperty(t,"__esModule",{value:!0});var s=n("SgQk"),i=n("m2+B"),r=n("VU/8"),o=a,c=r(s.a,i.a,o,null,null);t.default=c.exports},Q66M:function(e,t){},SgQk:function(e,t,n){"use strict";var a=n("E4LH");t.a={props:{btnsize:{type:String,default:"mini"},orgid:{type:Number}},data:function(){var e=this;return{searchForm:{strartAddress:"",endAddress:""},rules:{mobile:[{validator:function(t,n,s){e.searchForm.mobile=n.replace(a.a.NO_NUMBER,""),s()},trigger:"change"}]}}},watch:{orgid:function(e){}},mounted:function(){},methods:{getOrgid:function(e){},onSubmit:function(){this.$emit("change",this.searchForm)},clearForm:function(){this.searchForm.strartAddress="",this.searchForm.endAddress=""}}}},UAR4:function(e,t,n){"use strict";function a(e){n("ooP+"),n("rvZV")}Object.defineProperty(t,"__esModule",{value:!0});var s=n("09dA"),i=n("dDgD"),r=n("VU/8"),o=a,c=r(s.a,i.a,o,"data-v-005e152e",null);t.default=c.exports},"VT+v":function(e,t,n){"use strict";t.a={props:{sizes:{type:Array,default:function(){return[20,50,100,200]}},total:{type:Number,default:0}},computed:{pages:function(){return Math.ceil(this.total/this.size)}},watch:{pageNum:function(){this.inputval=this.pageNum},size:function(){this.pageNum=1}},data:function(){return{pageNum:1,oldValue:0,inputval:1,oldNum:1,size:20}},mounted:function(){this.size=this.sizes[0]},methods:{handleFocus:function(e){this.oldValue=e.target.value},sizeChange:function(){this.pageNum=1,this.pageNum=this.pageNum,this.$emit("change",{pageNum:this.pageNum,pageSize:this.size})},changeEvent:function(){this.oldNum!==this.pageNum&&(this.oldNum=this.pageNum,this.$emit("change",{pageNum:this.pageNum,pageSize:this.size}))},handleCurrentChange:function(e){this.pageNum=e,this.changeEvent()},handleSizeChange:function(e){this.size=e,this.changeEvent()},handleChange:function(e){var t=parseInt(e,10);isNaN(t)?this.inputval=1:t<1?this.inputval=1:t>this.pages?this.inputval=this.pages:this.inputval=t},handleBlur:function(e){var t=e.target;this.handleChange(t.value),this.jumpTo(this.inputval)},handleKeyup:function(e){var t=e.keyCode,n=e.target;console.log(t,n),13===t&&this.oldValue&&n.value!==this.oldValue&&(this.handleChange(n.value),this.oldValue="")},jumpTo:function(e){e<1?this.pageNum=1:e>this.pages?this.pageNum=this.pages:this.pageNum=e,this.changeEvent()}}}},dDgD:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"carrier-manager"},[e._m(0),e._v(" "),n("SearchForm",{attrs:{orgid:e.otherinfo.orgid,issender:!0,btnsize:e.btnsize},on:{change:e.getSearchParam}}),e._v(" "),n("div",{staticClass:"tab_info"},[n("div",{staticClass:"btns_box"},[n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.createNew}},[e._v("发布车源")])],1),e._v(" "),n("div",{staticClass:"info_tab"},[n("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.usersArr,stripe:"",border:"",height:"100%","tooltip-effect":"dark","default-sort":{prop:"id",order:"ascending"}},on:{"row-click":e.clickDetails,"selection-change":e.getSelection}},[n("el-table-column",{attrs:{fixed:"",label:"序号",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s((e.searchQuery.currentPage-1)*e.searchQuery.pageSize+t.$index+1)+"\n          ")]}}])}),e._v(" "),n("el-table-column",{attrs:{prop:"strartAddress",width:"200",label:"出发地"}}),e._v(" "),n("el-table-column",{attrs:{prop:"endAddress",width:"200",label:"到达地"}}),e._v(" "),n("el-table-column",{attrs:{prop:"startTime",width:"200",label:"发车时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(e._f("parseTime")(t.row.startTime))+"\n          ")]}}])}),e._v(" "),n("el-table-column",{attrs:{prop:"expectPrice",width:"200",label:"期望运价"}}),e._v(" "),n("el-table-column",{attrs:{prop:"carSourceTypeName",width:"158",label:"车源类型"}}),e._v(" "),n("el-table-column",{attrs:{prop:"isLongCar",width:"160",label:"即时/长期"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s("0"==t.row.isLongCar?"长期车源":"即时车源")+"\n          ")]}}])}),e._v(" "),n("el-table-column",{attrs:{width:"200",label:"创建时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(e._f("parseTime")(t.row.createTime))+"\n          ")]}}])}),e._v(" "),n("el-table-column",{attrs:{width:"330",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(n){e.changeItem(t.row.id)}}},[e._v("修改")]),e._v(" "),n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){e.deleteItem(t.row.id)}}},[e._v("删除")]),e._v(" "),n("el-button",{attrs:{size:"mini",type:"1"===t.row.isEnable?"info":"success"},on:{click:function(n){e.enableBtn(t.row)}}},[e._v("\n              "+e._s("1"===t.row.isEnable?"禁用":"启用")+"\n            ")]),e._v(" "),n("el-button",{attrs:{size:"mini",type:"0"===t.row.isCommonRoute?"primary":"warning"},on:{click:function(n){e.setRunBtn(t.row)}}},[e._v(e._s("0"===t.row.isCommonRoute?"设置常跑":"取消常跑")+"\n            ")])]}}])})],1)],1),e._v(" "),n("div",{staticClass:"info_tab_footer"},[e._v("共计:"+e._s(e.total)+"\n      "),n("div",{staticClass:"show_pager"},[n("Pager",{attrs:{sizes:e.sizes,total:e.total},on:{change:e.handlePageChange}})],1)])])],1)},s=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tab-info-title"},[n("h2",[n("span",[e._v("管理车源信息")])])])}],i={render:a,staticRenderFns:s};t.a=i},"m2+B":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form",{staticClass:"carrier_searchinfo clearfix",attrs:{inline:!0,size:e.btnsize,"label-position":"right",rules:e.rules,model:e.searchForm}},[n("el-form-item",{attrs:{label:"出发地："}},[n("el-input",{attrs:{placeholder:"",maxlength:"15",clearable:""},model:{value:e.searchForm.strartAddress,callback:function(t){e.$set(e.searchForm,"strartAddress",t)},expression:"searchForm.strartAddress"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"到达地："}},[n("el-input",{attrs:{placeholder:"",maxlength:"15",clearable:""},model:{value:e.searchForm.endAddress,callback:function(t){e.$set(e.searchForm,"endAddress",t)},expression:"searchForm.endAddress"}})],1),e._v(" "),n("el-form-item",{staticClass:"carrier_searchinfo--btn"},[n("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("搜索")]),e._v(" "),n("el-button",{attrs:{type:"info",plain:""},on:{click:e.clearForm}},[e._v("重置")])],1)],1)},s=[],i={render:a,staticRenderFns:s};t.a=i},"ooP+":function(e,t){},rvZV:function(e,t){},"rwP/":function(e,t){}});