webpackJsonp([55],{"6P1d":function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"add-eview",attrs:{title:"",visible:t.dialogVisible,"custom-class":"add-review","close-on-click-modal":!1,"modal-append-to-body":!1,width:"800px","before-close":t.close}},[a("div",{staticClass:"add-review-wrapper"},[a("div",{staticClass:"add-tip"},[t._v("认真填写评价平台会给你推荐最优质的货源")]),t._v(" "),a("h3",[t._v("您可以对货主进行评价哦！")]),t._v(" "),a("el-form",{ref:"ruleForm",attrs:{model:t.form,rules:t.rules,"label-width":t.formLabelWidth,"label-position":"right",size:"mini"}},[a("el-form-item",{attrs:{label:"",prop:"carrierAddr"}},[a("el-form-item",{attrs:{"label-width":"auto",label:"货物包装："}},[a("el-rate",{attrs:{"show-text":"",texts:t.texts,colors:t.rankColor},model:{value:t.goodsRank,callback:function(e){t.goodsRank=e},expression:"goodsRank"}})],1),t._v(" "),a("el-form-item",{attrs:{"label-width":"auto",label:"付款及时："}},[a("el-rate",{attrs:{"show-text":"",texts:t.texts,colors:t.rankColor},model:{value:t.payRank,callback:function(e){t.payRank=e},expression:"payRank"}})],1),t._v(" "),a("el-form-item",{attrs:{"label-width":"auto",label:"装卸安排："}},[a("el-rate",{attrs:{"show-text":"",texts:t.texts,colors:t.rankColor},model:{value:t.dockRank,callback:function(e){t.dockRank=e},expression:"dockRank"}})],1)],1),t._v(" "),a("el-form-item",{staticClass:"carrierRemarks",attrs:{label:"评价说明",prop:"carrierRemarks"}},[a("el-input",{attrs:{rows:10,type:"textarea",maxlength:100},model:{value:t.form.evaluationDes,callback:function(e){t.$set(t.form,"evaluationDes",e)},expression:"form.evaluationDes"}}),t._v(" "),a("div",{staticClass:"last-input-num"},[t._v("还可输入"),a("span",[t._v(t._s(100-t.form.evaluationDes.length))]),t._v("字")])],1)],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"large"},on:{click:t.close}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{size:"large",type:"primary"},on:{click:t.submitFeeSetup}},[t._v("提交评价")])],1)])},s=[],i={render:o,staticRenderFns:s};e.a=i},"7WEh":function(t,e,a){"use strict";function o(t){a("m2Yb")}Object.defineProperty(e,"__esModule",{value:!0});var s=a("AZ5Q"),i=a("6P1d"),l=a("VU/8"),r=o,n=l(s.a,i.a,r,null,null);e.default=n.exports},AZ5Q:function(t,e,a){"use strict";var o=a("woOf"),s=a.n(o),i=a("K2xx");e.a={props:{dialogVisible:{type:Boolean,default:!1},orderSerial:{type:String,default:""},shipperId:{type:String,default:""},companyId:{type:String,default:""}},data:function(){return{form:{companyId:"",assessLevel:"",evaluationDes:"",evaluationId:"",evaluationName:"",orderSerial:"",goodsStarLevel:"",payStarLevel:"",dockStarLevel:"",shipperId:""},totalRate:["AF0360203","AF0360202","AF0360201"],priceRate:["AF036040201","AF036040202","AF036040203","AF036040204","AF036040205"],goodsRate:["AF036040101","AF036040102","AF036040103","AF036040104","AF036040105"],dockRate:["AF036040301","AF036040302","AF036040303","AF036040304","AF036040305"],rules:{},rankColor:["#99A9BF","#F7BA2A","#FF9900"],texts:["非常不满意","不满意","一般","满意","非常满意"],goodsRank:5,payRank:5,dockRank:5,formLabelWidth:"150px",loading:!1}},watch:{dialogVisible:function(t){t&&this.reset()},goodsRank:{handler:function(t){this.form.goodsStarLevel=this.goodsRate[t-1],this.setTotalRank()},immediate:!0},payRank:{handler:function(t){this.form.payStarLevel=this.priceRate[t-1],this.setTotalRank()},immediate:!0},dockRank:{handler:function(t){this.form.dockStarLevel=this.dockRate[t-1],this.setTotalRank()},immediate:!0}},mounted:function(){},methods:{setTotalRank:function(){var t=this.goodsRank+this.payRank+this.dockRank;this.form.assessLevel=t<7?this.totalRate[0]:t<10?this.totalRate[1]:this.totalRate[2]},close:function(t){this.$emit("update:dialogVisible",!1),this.$emit("close"),"function"==typeof t&&t()},reset:function(){this.form=s()({},this.$data.form),this.form.evaluationId=this.otherinfo.id,this.form.evaluationName=this.otherinfo.contactsName,this.form.orderSerial=this.orderSerial,this.form.shipperId=this.shipperId,this.form.companyId=this.companyId},submitFeeSetup:function(){var t=this;this.$refs.ruleForm.validate(function(e){t.loading=!0,e&&Object(i.f)(t.form).then(function(e){t.$message.success("保存成功！"),t.loading=!1,t.$emit("success"),t.close()})})}}}},m2Yb:function(t,e){}});