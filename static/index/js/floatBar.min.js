var cTid = {
  ie: $.browser.msie,
  ie6: $.browser.msie && 6 == $.browser.version,
  ie67: $.browser.msie && 8 > $.browser.version
}
$(function() {
  function d() {
    var a = arguments,
      b = a[0],
      c = a[1]
    e.clearTimeout(b.timer)
    b.timer = e.setTimeout(function() {
      b.apply(c, h.call(a, 2))
    }, 100)
  }
  function g(a, b) {
    var c,
      f = b.spacing,
      d = b.contentWidth
    c = ($('body').width() - d) / 2
    !$(k).scrollTop() || 0 >= c
      ? a.hide()
      : ((t = c > f ? f : c),
        (c = Math.floor(c) + d + f),
        a.css('left', c),
        a.css('top', b.top),
        $('#jixiewujin').position(),
        $(e).scrollTop(),
        200 <= window.screen.height ? a.show() : a.hide())
  }
  function l(a, b) {
    var c,
      f = b.spacing,
      d = b.contentWidth
    c = ($('body').width() - d) / 2
    var g = $(k).scrollTop()
    !g || 0 >= c
      ? a.hide()
      : ((t = c > f ? f : c),
        (c = Math.floor(c) + d + f),
        a.css('left', c),
        cTid.ie6
          ? a.css('top', g + $(e).height() - (b.bottom + a.height()))
          : a.css('bottom', b.bottom),
        $('#jixiewujin').position(),
        $(e).scrollTop(),
        200 <= window.screen.height ? a.show() : a.hide())
  }
  var k = document,
    e = window,
    h = Array.prototype.slice,
    m = {
      contentWidth: 1400,
      bottom: 10,
      spacing: 15,
      zIndex: 1e3,
      top: 200
    }
  ;(function(a) {
    var b = $('.float-goTop'),
      c = $('.floatNavBar'),
      f = $.isPlainObject(a) ? a : {}
    a = []
    $.extend(f, m)
    a.push(
      '<div class="float-goTop"><a href="#" class="goTop_a" title=""></a></div>'
    )
    a = a.join('')
    b.length ||
      ($('body').append(a),
      (b = $('.float-goTop')),
      $(e).scroll(function() {
        d(l, null, b, f)
        c.length && d(g, null, c, f)
      }),
      $(e).resize(function() {
        d(l, null, b, f)
        c.length && d(g, null, c, f)
      }),
      $('a', b).click(function(a) {
        a.preventDefault()
        $('body,html').animate(
          {
            scrollTop: 0
          },
          150
        )
      }))
  })()
})
$(function() {
  var d = $('.floatNavBar'),
    g = d.find('.nav-bd'),
    l = d.find('.nav-ft'),
    k = $('.con_cp_0 '),
    e = [],
    h,
    m = 1
  d.find('.nav-hd,.nav-ft').click(function() {
    h
      ? (g.slideDown(), l.removeClass('packup'))
      : (g.slideUp(), l.addClass('packup'))
    h = !h
  })
  $('a', '.floatNavBar').click(function(a) {
    a.preventDefault()
    a = $(this)
    var b = a.attr('href'),
      c,
      b = '#' + b.split('#')[1]
    c = $(b).offset().top
    g.find('.active').removeClass('active')
    a.closest('li').addClass('active')
    m = 0
    var d
    $('html, body').animate(
      {
        scrollTop: c
      },
      {
        complete: function() {
          d ||
            ((d = !d),
            setTimeout(function() {
              m = 1
            }, 100))
        }
      }
    )
    window.location.hash = b
  })
  k.each(function(a) {
    e.push(k.eq(a).offset().top)
    return e
  })
  e.push(d.offset().top + d.height())
  $(window).scroll(function() {
    if (m) {
      var a = $(document).scrollTop() + 200,
        b = 0
      if (200 >= a) d.hide()
      else
        for (d.fadeIn(300); b < e.length; b++)
          if (a >= e[b] && a < e[b + 1]) {
            g.find('.active').removeClass('active')
            g.find('li')
              .eq(b)
              .addClass('active')
            break
          }
    }
  })
})

$(function() {
  $('.floatNavBar')
    .mouseover(function() {
      $('.rightBarHidden').show()
    })
    .mouseout(function() {
      $('.rightBarHidden').hide()
    })
})
